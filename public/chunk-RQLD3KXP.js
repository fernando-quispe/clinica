import{a as O,b as h,c as G,d as L,f as B,h as M,i as J,l as $,n as K,p as W}from"./chunk-YZXLD7P4.js";import{$ as f,G as m,H as _,N as d,P as c,Sa as j,T as r,U as t,Ua as k,V as u,Wa as P,Y as q,_ as x,a as A,d as N,da as a,g as w,ha as U,j as D,m as g,ma as z,q as H,wa as R,x as v,y as C}from"./chunk-AQFKX7UV.js";import{a as I,e as Q}from"./chunk-ALMH3RT4.js";var E=Q(W());function Z(l,n){l&1&&(r(0,"span",24),a(1," El campo Altura "),r(2,"strong"),a(3,"es requerido"),t()())}function ee(l,n){l&1&&(r(0,"span",24),a(1," El campo Peso "),r(2,"strong"),a(3,"es requerido"),t()())}function te(l,n){l&1&&(r(0,"span",24),a(1," El campo Presi\xF3n "),r(2,"strong"),a(3,"es requerida"),t()())}function ie(l,n){l&1&&(r(0,"span",24),a(1," El campo Temperatura "),r(2,"strong"),a(3,"es requerida"),t()())}function re(l,n){if(l&1){let p=q();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),a(4),t()(),r(5,"div",5)(6,"ul",6)(7,"form",7),x("ngSubmit",function(){v(p);let i=f();return C(i.registrarCancelar())}),r(8,"div",8)(9,"div",9)(10,"span",10),a(11,"Altura"),t(),u(12,"input",11),d(13,Z,4,0,"span",12),t(),r(14,"div",9)(15,"span",10),a(16,"Peso"),t(),u(17,"input",13),d(18,ee,4,0,"span",12),t(),r(19,"div",9)(20,"span",10),a(21,"Presi\xF3n"),t(),u(22,"input",14),d(23,te,4,0,"span",12),t(),r(24,"div",9)(25,"span",10),a(26,"Temperatura "),t(),u(27,"input",15),d(28,ie,4,0,"span",12),t(),r(29,"div",9)(30,"span",10),a(31,"Clave Personalizada "),t(),u(32,"input",16),t(),r(33,"div",9)(34,"span",10),a(35,"Valor "),t(),u(36,"input",17),t(),r(37,"div",9)(38,"span",10),a(39,"Clave Personalizada "),t(),u(40,"input",18),t(),r(41,"div",9)(42,"span",10),a(43,"Valor "),t(),u(44,"input",19),t(),r(45,"div",9)(46,"span",10),a(47,"Clave Personalizada "),t(),u(48,"input",20),t(),r(49,"div",9)(50,"span",10),a(51,"Valor "),t(),u(52,"input",21),t()()()(),r(53,"button",22),x("click",function(){v(p);let i=f();return C(i.registrarHistoriaClinica())}),a(54,"Guardar"),t(),r(55,"button",23),x("click",function(){v(p);let i=f();return C(i.limpiar())}),a(56,"Limpiar"),t()()()()}if(l&2){let p,e,i,s,o=f();m(4),U("HISTORIA CLINICA - Turno ",o.datoRecibidoTurno," - Sr/a ",o.datoRecibidoPaciente," - ",o.datoRecibidoEspecialidad,""),m(3),c("formGroup",o.registrarForm),m(6),c("ngIf",((p=o.registrarForm.get("inputAltura"))==null?null:p.hasError("required"))&&((p=o.registrarForm.get("inputAltura"))==null?null:p.touched)),m(5),c("ngIf",((e=o.registrarForm.get("inputPeso"))==null?null:e.hasError("required"))&&((e=o.registrarForm.get("inputPeso"))==null?null:e.touched)),m(5),c("ngIf",((i=o.registrarForm.get("inputPresion"))==null?null:i.hasError("required"))&&((i=o.registrarForm.get("inputPresion"))==null?null:i.touched)),m(5),c("ngIf",((s=o.registrarForm.get("inputTemperatura"))==null?null:s.hasError("required"))&&((s=o.registrarForm.get("inputTemperatura"))==null?null:s.touched)),m(25),c("disabled",o.registrarForm.invalid)}}var se=(()=>{let n=class n{constructor(e,i){this.fb=e,this._usuarioService=i,this.loading=!1,this.registrarForm=this.fb.group({inputAltura:["",[h.required]],inputPeso:["",[h.required]],inputPresion:["",[h.required]],inputTemperatura:["",[h.required]],inputClave1:[""],inputValor1:[""],inputClave2:[""],inputValor2:[""],inputClave3:[""],inputValor3:[""]})}ngOnInit(){this.loading=!0,this.datoRecibidoTurno=this.actualDetalleTurno.fechaSolicitada,this.datoRecibidoPaciente=this.actualDetalleTurno.apellidoPaciente+" "+this.actualDetalleTurno.nombrePaciente,this.datoRecibidoEspecialidad=this.actualDetalleTurno.especialidad}registrarHistoriaClinica(){let e,i,s,o,S,b,T,F,y,V;e=this.registrarForm.get("inputAltura").value,i=this.registrarForm.get("inputPeso").value,s=this.registrarForm.get("inputPresion").value,o=this.registrarForm.get("inputTemperatura").value,S=this.registrarForm.get("inputClave1").value,b=this.registrarForm.get("inputValor1").value,T=this.registrarForm.get("inputClave2").value,F=this.registrarForm.get("inputValor2").value,y=this.registrarForm.get("inputClave3").value,V=this.registrarForm.get("inputValor3").value,this.loading=!1,this._usuarioService.guardarHistoriaClinicaServicio(this.actualDetalleTurno.id,e,i,o,s,S,b,T,F,y,V).then(ae=>{}),E.default.fire({position:"top-end",icon:"success",title:"Historia Cl\xEDnica registrada con \xE9xito!",showConfirmButton:!1,timer:5e3})}limpiar(){this.registrarForm.reset({inputCancela:null})}registrarCancelar(){let e;e=this.registrarForm.get("inputCancela").value,this.loading=!1,this._usuarioService.cancelarTurnoPaciente(this.actualDetalleTurno.id,"CANCELADO",e).then(i=>{}),E.default.fire({position:"top-end",icon:"success",title:"El turno fue CANCELADO con \xE9xito!",showConfirmButton:!1,timer:5e3})}};n.\u0275fac=function(i){return new(i||n)(_($),_(P))},n.\u0275cmp=H({type:n,selectors:[["app-historia-clinica-turno-especialista"]],inputs:{actualDetalleTurno:"actualDetalleTurno"},standalone:!0,features:[z],decls:1,vars:1,consts:[["class","col",4,"ngIf"],[1,"col"],[1,"card","mb-4","rounded-3","shadow-sm"],[1,"card-header","py-3"],[1,"my-0","fw-normal"],[1,"card-body"],[1,"list-unstyled","mt-3","mb-4"],[1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","formControlName","inputAltura","placeholder","Altura del Paciente",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","inputPeso","placeholder","Peso del  Paciente",1,"form-control"],["type","text","formControlName","inputPresion","placeholder","Presi\xF3n del Paciente",1,"form-control"],["type","text","formControlName","inputTemperatura","placeholder","Temperatura del  Paciente",1,"form-control"],["type","text","formControlName","inputClave1","placeholder","Clave personalizada",1,"form-control"],["type","text","formControlName","inputValor1","placeholder","Ingrese Valor para la clave personalizada",1,"form-control"],["type","text","formControlName","inputClave2","placeholder","Clave personalizada",1,"form-control"],["type","text","formControlName","inputValor2","placeholder","Ingrese Valor para la clave personalizada",1,"form-control"],["type","text","formControlName","inputClave3","placeholder","Clave personalizada",1,"form-control"],["type","text","formControlName","inputValor3","placeholder","Ingrese Valor para la clave personalizada",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg",3,"click","disabled"],[1,"btn","btn-primary","btn-lg","float-right",3,"click"],[1,"text-danger"]],template:function(i,s){i&1&&d(0,re,57,9,"div",0),i&2&&c("ngIf",s.loading)},dependencies:[R,K,B,O,G,L,M,J]});let l=n;return l})();var de=(()=>{let n=class n{constructor(e,i,s){this.afAuth=e,this.afs=i,this.unUsuario=s,this.suscriptionList=new A,this.listUsuario=[],this.listPerfil=[],this.user$=this.afAuth.authState.pipe(w(o=>o?this.afs.doc(`users/${o.uid}`).valueChanges():N(null)))}perfilBuscado(){let e=JSON.parse(localStorage.getItem("userPerfil"));return this.perfil=e,console.log("Imprimo Perfil Leido:",this.perfil),this.perfil}obtener_localstorage(){let e=JSON.parse(localStorage.getItem("user"));this.email=e.email,console.log("Service Paciente correo: ",this.email)}getPerfil(){return this.obtener_localstorage(),this.unUsuario.getPerfilUsuario(this.email).subscribe(e=>{e.forEach(s=>{this.listPerfil.push(I({id:s.payload.doc.id},s.payload.doc.data()))});let i={perfil:this.listPerfil[0].perfil,apellido:this.listPerfil[0].apellido,nombre:this.listPerfil[0].nombre,dni:this.listPerfil[0].dni,email:this.listPerfil[0].email,aprobadoPorAdmin:this.listPerfil[0].aprobadoPorAdmin,especialidad:this.listPerfil[0].especialidad,otraEspecialidad:this.listPerfil[0].otraEspecialidad,fotoPerfilUno:this.listPerfil[0].fotoPerfilUno,fotoPerfilDos:this.listPerfil[0].fotoPerfilDos};this.gralPerfil=i.perfil,console.log("Gral Perfil - var ",this.listPerfil[0].perfil)}),this.gralPerfil}isActualSessionPaciente(){let e=this.getPerfil();return console.log("Imprimo Perfil esperado Paciente:",e),e==="Paciente"?(console.log("Paso 7 auth Servicio Paciente - perfil  ",this.perfil),!0):(console.log("Paso 8 auth Servicio Paciente -  NO",this.perfil),!1)}};n.\u0275fac=function(i){return new(i||n)(g(j),g(k),g(P))},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"});let l=n;return l})();export{se as a,de as b};
