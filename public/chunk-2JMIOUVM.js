import{a as te,b as Me}from"./chunk-PDSKCTPD.js";import{a as ie}from"./chunk-EWBY36IS.js";import{a as $,b as m,c as H,d as Q,f as Y,g as re,h as Z,i as K,j as Ie,k as Oe,l as X,m as Le,n as j,o as ee,p as ve,u as Ae}from"./chunk-YZXLD7P4.js";import{$ as E,Da as A,G as s,Ga as _e,H as f,N as _,P as c,Sa as k,T as e,U as o,Ua as J,V as p,Wa as V,Y as W,Ya as we,_ as C,a as T,aa as fe,d as Se,da as a,ea as he,g as Pe,j as G,k as ae,m as z,ma as M,q as L,r as le,w as ye,wa as B,x as y,y as F,ya as Fe}from"./chunk-AQFKX7UV.js";import"./chunk-UNSEJGY7.js";import{a as U,e as ue,g as R}from"./chunk-ALMH3RT4.js";var Re=(()=>{let n=class n{constructor(i,r,l){this.afAuth=i,this.afs=r,this.unUsuario=l,this.suscriptionList=new T,this.listUsuario=[],this.listPerfil=[],this.user$=this.afAuth.authState.pipe(Pe(g=>g?this.afs.doc(`users/${g.uid}`).valueChanges():Se(null)))}enviandoVerificacionEmail(){return R(this,null,function*(){return(yield this.afAuth.currentUser).sendEmailVerification()})}resetPassword(i){return R(this,null,function*(){try{return this.afAuth.sendPasswordResetEmail(i)}catch(r){console.log(r)}})}sendVerificationEmail(){return R(this,null,function*(){return(yield this.afAuth.currentUser).sendEmailVerification()})}login(i,r){return R(this,null,function*(){try{let{user:l}=yield this.afAuth.signInWithEmailAndPassword(i,r);return this.updateUserData(l),this.logLogin(l.email),l}catch(l){return console.log(l),null}})}login2(i,r){return new Promise((l,g)=>{this.afAuth.signInWithEmailAndPassword(i,r).then(b=>{let x=new Date;this.afs.collection("ingresos").add({email:i,fechaacceso:x.getDate()+"-"+(x.getMonth()+1)+"-"+x.getFullYear(),dato:"Ingreso al sistema"}),l(b)}).catch(b=>{g(b)})})}register(i,r){return R(this,null,function*(){try{let{user:l}=yield this.afAuth.createUserWithEmailAndPassword(i,r);return yield this.sendVerificationEmail(),l}catch(l){return console.log(l),null}})}logout(){return R(this,null,function*(){try{yield this.afAuth.signOut()}catch(i){console.log(i)}})}updateUserData(i){let r=this.afs.doc(`users/${i.uid}`),l={uid:i.uid,email:i.email};return r.set(l,{merge:!0})}perfilBuscado(){let i=JSON.parse(localStorage.getItem("userPerfil"));return this.perfil=i,console.log("Imprimo Perfil Leido:",this.perfil),this.perfil}obtener_localstorage(){let i=JSON.parse(localStorage.getItem("user"));this.email=i.email,console.log("Service Paciente correo: ",this.email)}getPerfil(){return this.obtener_localstorage(),console.log("correo :",this.email),this.unUsuario.getPerfilUsuario(this.email).subscribe(i=>{i.forEach(l=>{this.listPerfil.push(U({id:l.payload.doc.id},l.payload.doc.data()))});let r={perfil:this.listPerfil[0].perfil,apellido:this.listPerfil[0].apellido,nombre:this.listPerfil[0].nombre,dni:this.listPerfil[0].dni,email:this.listPerfil[0].email,aprobadoPorAdmin:this.listPerfil[0].aprobadoPorAdmin,especialidad:this.listPerfil[0].especialidad,otraEspecialidad:this.listPerfil[0].otraEspecialidad,fotoPerfilUno:this.listPerfil[0].fotoPerfilUno,fotoPerfilDos:this.listPerfil[0].fotoPerfilDos};this.gralPerfil=r.perfil}),this.gralPerfil}isActualSessionAdministrador(){let i=this.getPerfil();return console.log("Imprimo Perfil auth esperado:",i),i==="Administrador"?(console.log("Paso 7 auth Servicio auth - perfil  ",this.perfil),!0):(console.log("Paso 8 auth Servicio auth -  NO",this.perfil),!1)}logLogin(i){this.afs.collection("ingresos").add({email:i,timestamp:new Date})}};n.\u0275fac=function(r){return new(r||n)(z(k),z(J),z(V))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();function Be(t,n){t&1&&(e(0,"div",3),p(1,"app-spinner"),o())}function Je(t,n){t&1&&(e(0,"span",29),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es requerido"),o()())}function $e(t,n){t&1&&(e(0,"span",29),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function He(t,n){t&1&&(e(0,"span",29),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerido"),o()())}function Qe(t,n){if(t&1){let d=W();e(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div")(6,"h2",9),a(7,"LOGIN"),o()()(),e(8,"form",10),C("ngSubmit",function(){y(d);let r=E();return F(r.loginSiguiente())}),e(9,"div",11),p(10,"input",12)(11,"br"),_(12,Je,4,0,"span",13)(13,$e,4,0,"span",13),o(),e(14,"div",11),p(15,"input",14)(16,"br"),_(17,He,4,0,"span",13),o(),e(18,"div")(19,"button",15),a(20,"Aceptar"),o(),e(21,"button",16),C("click",function(){y(d);let r=E();return F(r.registrarse())}),a(22,"Registrarse"),o()(),p(23,"br"),o(),p(24,"br"),o()()(),e(25,"div",17)(26,"h3",9),a(27,"ACCESOS"),o(),e(28,"table",18)(29,"tbody")(30,"tr")(31,"th",19)(32,"font",20),a(33,"Pacientes"),o()(),e(34,"th",21)(35,"font",20),a(36,"Especialistas"),o()(),e(37,"th",22)(38,"font",20),a(39,"Administrador"),o()()(),e(40,"tr")(41,"td")(42,"img",23),C("click",function(){y(d);let r=E();return F(r.onPaciente1())}),o()(),e(43,"td")(44,"img",24),C("click",function(){y(d);let r=E();return F(r.onPaciente2())}),o()(),e(45,"td")(46,"img",25),C("click",function(){y(d);let r=E();return F(r.onPaciente3())}),o()(),e(47,"td")(48,"img",26),C("click",function(){y(d);let r=E();return F(r.onEspecialista1())}),o()(),e(49,"td")(50,"img",27),C("click",function(){y(d);let r=E();return F(r.onEspecialista2())}),o()(),e(51,"td")(52,"img",28),C("click",function(){y(d);let r=E();return F(r.onAdmin1())}),o()()()()()()()}if(t&2){let d,i,r,l=E();s(8),c("formGroup",l.loginForm),s(2),c("value",l.muestroCorreo),s(2),c("ngIf",((d=l.loginForm.get("usuarioCorreo"))==null?null:d.hasError("required"))&&((d=l.loginForm.get("usuarioCorreo"))==null?null:d.touched)),s(),c("ngIf",((i=l.loginForm.get("usuarioCorreo"))==null?null:i.hasError("email"))&&((i=l.loginForm.get("usuarioCorreo"))==null?null:i.touched)),s(2),c("value",l.muestroClave),s(2),c("ngIf",((r=l.loginForm.get("usuarioClave"))==null?null:r.hasError("required"))&&((r=l.loginForm.get("usuarioClave"))==null?null:r.touched)),s(2),c("disabled",l.loginForm.invalid)}}var me=(()=>{let n=class n{constructor(i,r,l,g,b,x,S,P,w){this.rutas=i,this.fb=r,this.afAuth=l,this._errorService=g,this.toastr=b,this.unUsuario=x,this.af=S,this.authService=P,this.logService=w,this.loading=!1,this.suscriptionList=new T,this.suscription=new T,this.listUsuario=[],this.listPerfil=[],this.loginForm=this.fb.group({usuarioCorreo:["",[m.required,m.email]],usuarioClave:["",m.required]})}ngOnInit(){}login(i){this.authService.login(i,this.email).then(()=>{this.logService.logUserAccess(i)})}administradorLogin(){this.loginForm.controls.usuarioCorreo.setValue("admin@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}loginSiguiente(){console.log("Entramos en loginSiguiente ",this.loginForm);let i=this.loginForm.get("usuarioCorreo")?.value,r=this.loginForm.get("usuarioClave")?.value,l=new Date,g=l.toLocaleDateString(),b=l.toLocaleTimeString();this.loading=!0,setTimeout(()=>{console.log("Tiempo")},5e5),this.afAuth.signInWithEmailAndPassword(i,r).then(x=>{console.log("Respuesta ",x);let S={email:i,fecha:g,hora:b};this.af.collection("ingresos").add(S).then(()=>{console.log("Ingreso guardado en Firestore")}).catch(P=>{console.error("Error al guardar ingreso en Firestore: ",P)}),x.user?.emailVerified===!1?(this.loading=!1,this.rutas.navigate(["/auth/verificarCorreo"])):(console.log("Grabando Local Storage"),this.loading=!1,this.perfil="",this.setLocalStorage(x.user),this.setLocalStoragePerfil(),this.rutas.navigate(["/bienvenido"]))},x=>{this.loading=!1,this.toastr.error(this._errorService.error(x.code),"Error"),this.loginForm.reset()})}logLogin(i){this.af.collection("ingresos").add({email:i,timestamp:new Date})}setLocalStorage(i){let r={uid:i.uid,email:i.email};localStorage.setItem("user",JSON.stringify(r)),this.email=i.email}getPerfil(i){console.log("correo :",i),this.unUsuario.getPerfilUsuario(i).subscribe(r=>{r.forEach(g=>{this.listPerfil.push(U({id:g.payload.doc.id},g.payload.doc.data())),console.log(g.payload.doc.id),console.log(g.payload.doc.data())}),console.log("Lista Perfil ",this.listPerfil),console.log("Lista Perfil - Tipo ",this.listPerfil[0].perfil),console.log("Lista Perfil -  Autorizado ",this.listPerfil[0].aprobadoPorAdmin),localStorage.setItem("userPerfil",JSON.stringify(this.listPerfil[0].perfil)),localStorage.setItem("autorizadoPerfil",JSON.stringify(this.listPerfil[0].aprobadoPorAdmin));let l={perfil:this.listPerfil[0].perfil,apellido:this.listPerfil[0].apellido,nombre:this.listPerfil[0].nombre,dni:this.listPerfil[0].dni,email:this.listPerfil[0].email,aprobadoPorAdmin:this.listPerfil[0].aprobadoPorAdmin,especialidad:this.listPerfil[0].especialidad,otraEspecialidad:this.listPerfil[0].otraEspecialidad,fotoPerfilUno:this.listPerfil[0].fotoPerfilUno,fotoPerfilDos:this.listPerfil[0].fotoPerfilDos};localStorage.setItem("perfil",JSON.stringify(l))})}setLocalStoragePerfil(){console.log("Paso 1 Leyendo local storag");let i=JSON.parse(localStorage.getItem("user"));this.email=i.email,console.log("Paso 2 Imprimo email ",this.email),console.log("Paso 3 Grabando Perfil"),this.getPerfil(this.email)}onAdmin1(){this.loginForm.controls.usuarioCorreo.setValue("fernando.utn@hotmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onEspecialista1(){this.loginForm.controls.usuarioCorreo.setValue("moni.lili.ortegoza@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onEspecialista2(){this.loginForm.controls.usuarioCorreo.setValue("analistadetesting@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente1(){this.loginForm.controls.usuarioCorreo.setValue("santosquispe1950@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente2(){this.loginForm.controls.usuarioCorreo.setValue("lourdesriveramartinez1954@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente3(){this.loginForm.controls.usuarioCorreo.setValue("rifyesilte@gufum.com"),this.loginForm.controls.usuarioClave.setValue("123456")}registrarse(){this.rutas.navigate(["auth/MenuRegistrar"])}ngOnChanges(i){}};n.\u0275fac=function(r){return new(r||n)(f(A),f(X),f(k),f(te),f(ie),f(V),f(J),f(Re),f(Me))},n.\u0275cmp=L({type:n,selectors:[["app-login"]],standalone:!0,features:[ye,M],decls:4,vars:2,consts:[[1,"conteiner","mt-3"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"row"],[1,"container-table-login"],[1,"card"],[1,"card-body"],[1,"container-form"],[1,"text-center","tituloPropio"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["type","text","formControlName","usuarioCorreo","placeholder","Correo electr\xF3nico",1,"from-control","form-control-lg",3,"value"],["class","text-danger",4,"ngIf"],["type","password","formControlName","usuarioClave","placeholder","Contrase\xF1a",1,"from-control","form-control-lg",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["type","button","routerLink","/auth/MenuRegistrar",1,"btn","btn-primary","btn-lg","float-right",3,"click"],[1,"container-table","table-responsive"],[1,"mx-auto"],["colspan","3",1,"tituloPropio"],["color","#ffffff"],["colspan","2",1,"tituloPropio"],[1,"tituloPropio"],["src","./../../../assets/pacientes/paciente01.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/pacientes/paciente03.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/pacientes/paciente05.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/especialistas/especialista01.jpg","alt","img-usuario","alt","especialista",3,"click"],["src","./../../../assets/especialistas/especialista02.jpg","alt","img-usuario","alt","especialista",3,"click"],["src","./../../../assets/admin/admin1.jpeg","alt","img-usuario","alt","admin",3,"click"],[1,"text-danger"]],template:function(r,l){r&1&&(e(0,"section")(1,"div",0),_(2,Be,2,0,"div",1)(3,Qe,53,7,"div",2),o()()),r&2&&(s(2),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[ee,j,Y,$,H,Q,Z,K,B],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:600%}body[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-top:10px;padding-bottom:40px}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica-CAUED5U2.jpg");background-size:100%;background-position:center top;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;height:96vh;max-width:3000px}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive}.contenedorLogin[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.text-danger[_ngcontent-%COMP%]{margin-left:10px}.container-form[_ngcontent-%COMP%]{border-radius:20px;margin:0;padding:0}img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px;border-radius:50px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#696969;font-weight:400;margin-top:10px}.container-table[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{text-align:center;color:#f5e8e8}.container-table-login[_ngcontent-%COMP%]{padding:10px;margin:0 auto}.TituloTablaColor[_ngcontent-%COMP%]{color:#dc194a}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:96vh}']});let t=n;return t})();var Te=(()=>{let n=class n{constructor(i){this.rutas=i}ngOnInit(){}paciente(){console.log("Registrar Paciente"),this.rutas.navigate(["auth/registrarPaciente"])}especialista(){console.log("Registrar Especialista"),this.rutas.navigate(["auth/registrar"])}admin(){console.log("Registrar Admin"),this.rutas.navigate(["auth/registrarAdmin"])}};n.\u0275fac=function(r){return new(r||n)(f(A))},n.\u0275cmp=L({type:n,selectors:[["app-menu-registrar"]],standalone:!0,features:[M],decls:28,vars:0,consts:[[1,"container"],[1,"card"],["src","../../../assets/registrar/pacienteRegistro1.jpg","alt","Avatar",1,"img-thumbnail"],[1,"contenido"],[1,"title"],[1,"card-body"],[1,"btn","btn-secondary","btn-lg","mt-3",3,"click"],["src","../../../assets/registrar/especialista1.jpg","width","50","alt","Avatar",1,"img-thumbnail"]],template:function(r,l){r&1&&(p(0,"app-menu-inicio"),e(1,"section")(2,"div",0)(3,"div",1)(4,"figure"),p(5,"img",2),o(),e(6,"div",3)(7,"p",4)(8,"strong"),a(9," PACIENTE"),o()(),e(10,"div",5),a(11," Para poder ingresar a la Cl\xEDnica Online y solicitar turno debe registrarse. Complete todos los datos. "),o(),p(12,"br"),e(13,"p")(14,"button",6),C("click",function(){return l.paciente()}),a(15,"Registrar"),o()()()(),e(16,"div",1)(17,"figure"),p(18,"img",7),o(),e(19,"div",3)(20,"p",4)(21,"strong"),a(22,"ESPECIALISTA"),o()(),e(23,"div",5),a(24," Para poder ingresar a la Cl\xEDnica Online y ser parte del personal debe registrarse, luego un Administrador validar\xE1 su usuario. "),o(),e(25,"p")(26,"button",6),C("click",function(){return l.especialista()}),a(27,"Registrar"),o()()()()()())},dependencies:[we],styles:["*[_ngcontent-%COMP%]{margin-top:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{width:100%;height:100vh;display:100 vh;display:flex;justify-content:center;align-items:center;font-family:sans-serif}.container[_ngcontent-%COMP%]{width:100%;display:flex;max-width:1100px;background:#ffb347;background:-webkit-linear-gradient(to right,#ffcc33,#ffb347);background:linear-gradient(to right,#fc3,#ffb347);background-size:100% auto;background-position:center top;background-repeat:no-repeat}.card[_ngcontent-%COMP%]{width:100%;margin:20px;border-radius:6px;overflow:hidden;background:#fff;box-shadow:0 1px 10px #0003;cursor:default;transition:all 40ms ease}.card[_ngcontent-%COMP%]:hover{box-shadow:5px 5px 20px #0006;transform:translateY(-3%)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:210px}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{padding:15px;text-align:center}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5;color:#6a6a6a}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:400;margin-bottom:15px}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;padding:10px;margin-top:10px;color:#2fb4cc;border:1px solid #2fb4cc;border-radius:4px;transition:all 40ms ease}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:92vh}"]});let t=n;return t})();var ne=class{static isCaptchaWithParam(n){return d=>{console.log("MyValidationprimerParam ",n);let i=d.value;return console.log("MyValidationValue ",i),n!=i?(console.log("return true"),{isCaptcha:!0}):(console.log("return false"),null)}}};var Ve=ue(ve());var Ne=(()=>{let n=class n{constructor(i){this._firestore=i}crearObraSocial(i){return console.log("Llegamos a grabar Obra Social"),this._firestore.collection("obrasociales").add(i)}getListadoObraSocial(){return this._firestore.collection("obrasociales").stateChanges()}eliminarObraSocial(i){return console.log("Id servicio ",i),this._firestore.collection("obrasociales").doc(i).delete()}modificarObraSocial(i,r){return this._firestore.collection("obrasociales").doc(i).update(r)}};n.\u0275fac=function(r){return new(r||n)(z(J))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var de=(()=>{let n=class n{constructor(){this.arrayPalabras=["ABHT1","AS68H","ASVRW","ADND23","ASBG2","ASGB3","GBH52","1A2ASD"]}pickearPalabraRandom(){let i=Math.floor(Math.random()*7)+1;return this.arrayPalabras[i]}};n.\u0275fac=function(r){return new(r||n)},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();function Ze(t,n){t&1&&(e(0,"div",3),p(1,"app-spinner"),o())}function Ke(t,n){t&1&&(e(0,"span",26),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function Xe(t,n){t&1&&(e(0,"span",26),a(1," Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function et(t,n){t&1&&(e(0,"span",26),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function tt(t,n){t&1&&(e(0,"span",26),a(1," Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function it(t,n){t&1&&(e(0,"span",26),a(1," La Edad "),e(2,"strong"),a(3,"es requerido"),o()())}function rt(t,n){t&1&&(e(0,"span",26),a(1," Edad como minimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function nt(t,n){t&1&&(e(0,"span",26),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function ot(t,n){t&1&&(e(0,"span",26),a(1," El DNI minimo "),e(2,"strong"),a(3,"7 digitos"),o(),a(4," maximo "),e(5,"strong"),a(6,"8 digitos"),o()())}function at(t,n){t&1&&(e(0,"span",26),a(1," La obra social "),e(2,"strong"),a(3,"es requerido"),o()())}function lt(t,n){t&1&&(e(0,"span",26),a(1," El Correo "),e(2,"strong"),a(3,"es requerido"),o()())}function st(t,n){t&1&&(e(0,"span",26),a(1," Correo "),e(2,"strong"),a(3,"invalido"),o()())}function ct(t,n){t&1&&(e(0,"span",26),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function mt(t,n){t&1&&(e(0,"span",26),a(1," La contrase\xF1a como minimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function dt(t,n){t&1&&(e(0,"span",26),a(1," Contrase\xF1a "),e(2,"strong"),a(3,"distintas"),o()())}function pt(t,n){t&1&&(e(0,"span",26),a(1," El Captcha "),e(2,"strong"),a(3,"es requerido"),o()())}function gt(t,n){t&1&&(e(0,"span",26),a(1," Captcha "),e(2,"strong"),a(3,"deben ser iguales"),o()())}function ut(t,n){if(t&1){let d=W();e(0,"div",4)(1,"h2",5)(2,"strong"),a(3,"REGISTRO DE PACIENTE"),o()(),e(4,"form",6),C("ngSubmit",function(){y(d);let r=E();return F(r.registrar())}),e(5,"div",7)(6,"div",8),p(7,"input",9),_(8,Ke,4,0,"span",10)(9,Xe,4,0,"span",10),o(),e(10,"div",8),p(11,"input",11),_(12,et,4,0,"span",10)(13,tt,4,0,"span",10),o(),e(14,"div",8),p(15,"input",12),_(16,it,4,0,"span",10)(17,rt,4,0,"span",10),o(),e(18,"div",8),p(19,"input",13),_(20,nt,4,0,"span",10)(21,ot,7,0,"span",10),o(),e(22,"div",8),p(23,"input",14),_(24,at,4,0,"span",10),o(),e(25,"div",8),p(26,"input",15),_(27,lt,4,0,"span",10)(28,st,4,0,"span",10),o(),e(29,"div",8),p(30,"input",16),_(31,ct,4,0,"span",10)(32,mt,4,0,"span",10),o(),e(33,"div",8),p(34,"input",17),_(35,dt,4,0,"span",10),o(),e(36,"div",18)(37,"span",19),a(38,"PERFIL"),o(),e(39,"input",20),C("change",function(r){y(d);let l=E();return F(l.uploadImage(r))}),o()(),e(40,"div",18)(41,"span",19),a(42,"PERFIL"),o(),e(43,"input",21),C("change",function(r){y(d);let l=E();return F(l.uploadImage2(r))}),o()(),e(44,"div",18)(45,"span",19),a(46,"CAPTCHA"),o(),p(47,"input",22),o(),e(48,"div",8),p(49,"input",23),_(50,pt,4,0,"span",10)(51,gt,4,0,"span",10),o()(),e(52,"button",24),a(53,"Volver"),o(),e(54,"button",25),a(55,"Aceptar"),o()()()}if(t&2){let d,i,r,l,g,b,x,S,P,w,I,O,v,q,D,u=E();s(4),c("formGroup",u.registrarForm),s(4),c("ngIf",((d=u.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=u.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((i=u.registrarForm.get("nombre"))==null?null:i.hasError("minlength"))&&((i=u.registrarForm.get("nombre"))==null?null:i.touched)),s(3),c("ngIf",((r=u.registrarForm.get("apellido"))==null?null:r.hasError("required"))&&((r=u.registrarForm.get("apellido"))==null?null:r.touched)),s(),c("ngIf",((l=u.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=u.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((g=u.registrarForm.get("edad"))==null?null:g.hasError("required"))&&((g=u.registrarForm.get("edad"))==null?null:g.touched)),s(),c("ngIf",((b=u.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=u.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((x=u.registrarForm.get("dni"))==null?null:x.hasError("required"))&&((x=u.registrarForm.get("dni"))==null?null:x.touched)),s(),c("ngIf",((S=u.registrarForm.get("dni"))==null?null:S.hasError("minlength"))&&((S=u.registrarForm.get("dni"))==null?null:S.touched)),s(3),c("ngIf",((P=u.registrarForm.get("obrasocial"))==null?null:P.hasError("required"))&&((P=u.registrarForm.get("obrasocial"))==null?null:P.touched)),s(3),c("ngIf",((w=u.registrarForm.get("correo"))==null?null:w.hasError("required"))&&((w=u.registrarForm.get("correo"))==null?null:w.touched)),s(),c("ngIf",((I=u.registrarForm.get("correo"))==null?null:I.hasError("email"))&&((I=u.registrarForm.get("correo"))==null?null:I.touched)),s(3),c("ngIf",((O=u.registrarForm.get("password"))==null?null:O.hasError("required"))&&((O=u.registrarForm.get("password"))==null?null:O.touched)),s(),c("ngIf",((v=u.registrarForm.get("password"))==null?null:v.hasError("minlength"))&&((v=u.registrarForm.get("password"))==null?null:v.touched)),s(3),c("ngIf",u.registrarForm.hasError("notSame")),s(12),c("value",u.captchaGenerado),s(3),c("ngIf",((q=u.registrarForm.get("captcha"))==null?null:q.hasError("required"))&&((q=u.registrarForm.get("captcha"))==null?null:q.touched)),s(),c("ngIf",((D=u.registrarForm.get("captcha"))==null?null:D.hasError("isCaptchaWithParam"))&&((D=u.registrarForm.get("captcha"))==null?null:D.touched)),s(3),c("disabled",u.registrarForm.invalid)}}var pe=(()=>{let n=class n{constructor(i,r,l,g,b,x,S,P){this.fb=i,this.afAuth=r,this.router=l,this.toastr=g,this._errorService=b,this._obrasocialService=x,this._usuarioService=S,this._captcha=P,this.loading=!1,this.suscriptionList=new T,this.listObrasocial=[],this.gabrarSegundaParte=!1,this.captchaGenerado=this._captcha.pickearPalabraRandom(),console.log(this.captchaGenerado),this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4),this.validarLetra]],apellido:["",[m.required,m.minLength(4),this.validarLetra]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.min(7),m.max(8)]],obrasocial:["",[m.required]],fotoPerfil:["no la guardo aun",[m.required]],fotoPerfil2:["no la guardo aun",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""],captcha:["",[m.required,ne.isCaptchaWithParam(this.captchaGenerado)]]},{validator:this.ckeckPassword})}ngOnInit(){this.getObrasocial()}registrar(){console.log("grabrarSegundaParte0 "),this.registrarPaciente(),console.log("grabrarSegundaParte3 "),this.router.navigate(["auth/login"])}registrarPaciente(){return R(this,null,function*(){let i={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:this.registrarForm.get("obrasocial")?.value,especialidad:null,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Paciente",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:this.obtengoFile2,aprobadoPorAdmin:"NO",baja:"NO",altura:"",peso:"",temperatura:"",presion:"",clave1:"",valor1:"",clave2:"",valor2:"",clave3:"",valor3:""};console.log("estamos en registrar usuario paciente:",i.email);try{this.loading=!0;let r=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;yield this.afAuth.createUserWithEmailAndPassword(r,l),yield(yield this.afAuth.currentUser).sendEmailVerification(),console.log(this.afAuth),this.afAuth&&(this._usuarioService.crearUsuario(i),Ve.default.fire({position:"top-end",icon:"success",title:"El Paciente fue registrado con \xE9xito!",showConfirmButton:!1,timer:5e3}),this.loading=!1)}catch(r){this.toastr.error(this._errorService.error(r.code),"Error - Paciente"),setTimeout(()=>{this.toastr.error(this._errorService.error(r.code),"Error - Paciente")},6e3)}})}getObrasocial(){this.loading=!0,this.suscriptionList==this._obrasocialService.getListadoObraSocial().subscribe(i=>{this.listObrasocial=[],i.forEach(r=>{this.listObrasocial.push(U({id:r.payload.doc.id},r.payload.doc.data())),this.loading=!1}),console.log("Lista Obrasocial",this.listObrasocial)})}registrarObraSocial(){console.log("Probando Registrar Obrasocial");let i={nombre:"OSDE"};this._obrasocialService.crearObraSocial(i).then(r=>{this.toastr.success("La Obra Social fue registrada con \xE9xito!","Obra Social registrada!")}).catch(r=>{this.toastr.error(this._errorService.error(r.code),"Error Obra Social")})}uploadImage(i){let r=i.target.files[0];this.obtengoFile="assets/paciente/"+r.name}uploadImage2(i){let r=i.target.files[0];this.obtengoFile2="assets/paciente/"+r.name}ckeckPassword(i){let r=i.controls.password?.value,l=i.controls.repetirPassword?.value;return r===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}validarLetra(i){let r=i.value;return/^[a-zA-Z]+$/.test(r)?null:{soloLetras:!0}}};n.\u0275fac=function(r){return new(r||n)(f(X),f(k),f(A),f(ie),f(te),f(Ne),f(V),f(de))},n.\u0275cmp=L({type:n,selectors:[["app-login-registrar-usuario"]],standalone:!0,features:[M],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio",2,"color","white"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["list","obrasocial","formControlName","obrasocial","placeholder","Escriba una Obra Social...",1,"form-control","form-control-lg"],["type","email","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["type","file","formControlName","fotoPerfil2",1,"form-control","form-control-lg",3,"change"],["type","text","id","captchaVista","disabled","",1,"form-control","form-control-lg",3,"value"],["type","text","formControlName","captcha","placeholder","Escribir el Captcha que visualiza",1,"form-control","form-control-lg"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg","float-right",3,"disabled"],[1,"text-danger"]],template:function(r,l){r&1&&(e(0,"div",0),_(1,Ze,2,0,"div",1)(2,ut,56,19,"div",2),o()),r&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[B,j,Y,$,re,H,Q,Z,K,ee],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive;margin:100px}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let t=n;return t})();var qe=ue(ve());var je=(()=>{let n=class n{constructor(i){this._firestore=i}crearEspecialidad(i){return this._firestore.collection("especialidades").add(i)}getListadoEspecialidad(){return this._firestore.collection("especialidades").stateChanges()}eliminarEspecialidad(i){return console.log("Id servicio ",i),this._firestore.collection("especialidades").doc(i).delete()}modificarEspecialidad(i,r){return this._firestore.collection("especialidades").doc(i).update(r)}};n.\u0275fac=function(r){return new(r||n)(z(J))},n.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();function ht(t,n){t&1&&(e(0,"div",3),p(1,"app-spinner"),o())}function _t(t,n){t&1&&(e(0,"span",29),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function vt(t,n){t&1&&(e(0,"span",29),a(1," El Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function xt(t,n){t&1&&(e(0,"span",29),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function bt(t,n){t&1&&(e(0,"span",29),a(1," El Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function Ct(t,n){t&1&&(e(0,"span",29),a(1," La Edad "),e(2,"strong"),a(3,"es requerida"),o()())}function Et(t,n){t&1&&(e(0,"span",29),a(1," La Edad como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function St(t,n){t&1&&(e(0,"span",29),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function Pt(t,n){t&1&&(e(0,"span",29),a(1," El DNI como m\xEDnimo "),e(2,"strong"),a(3,"7 d\xEDgitos"),o(),a(4," m\xE1ximo "),e(5,"strong"),a(6,"8 d\xEDgitos"),o()())}function yt(t,n){if(t&1&&(e(0,"option",30),a(1),o()),t&2){let d=n.$implicit;fe("value",d.nombre),s(),he(d.nombre)}}function Ft(t,n){t&1&&(e(0,"span",29),a(1," La Especialidad "),e(2,"strong"),a(3,"es requerida"),o()())}function wt(t,n){if(t&1&&(e(0,"option",30),a(1),o()),t&2){let d=n.$implicit;fe("value",d.nombre),s(),he(d.nombre)}}function It(t,n){t&1&&(e(0,"span",29),a(1," La Especialidad "),e(2,"strong"),a(3,"es requerida"),o()())}function Ot(t,n){t&1&&(e(0,"span",29),a(1," El correo electr\xF3nico "),e(2,"strong"),a(3,"es requerido"),o()())}function Lt(t,n){t&1&&(e(0,"span",29),a(1," El correo electr\xF3nico "),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function Mt(t,n){t&1&&(e(0,"span",29),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function At(t,n){t&1&&(e(0,"span",29),a(1," La contrase\xF1a como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function Rt(t,n){t&1&&(e(0,"span",29),a(1," Las Contrase\xF1as "),e(2,"strong"),a(3,"son distintas"),o()())}function Tt(t,n){t&1&&(e(0,"span",29),a(1," El Captcha "),e(2,"strong"),a(3,"es requerido"),o()())}function Nt(t,n){t&1&&(e(0,"span",29),a(1," Los Captchas "),e(2,"strong"),a(3,"deben ser iguales"),o()())}function kt(t,n){if(t&1){let d=W();e(0,"div",4)(1,"h2",5)(2,"strong"),a(3,"REGISTRO DE ESPECIALISTA"),o()(),e(4,"form",6),C("ngSubmit",function(){y(d);let r=E();return F(r.registrar())}),e(5,"div",7)(6,"div",8),p(7,"input",9),_(8,_t,4,0,"span",10)(9,vt,4,0,"span",10),o(),e(10,"div",8),p(11,"input",11),_(12,xt,4,0,"span",10)(13,bt,4,0,"span",10),o(),e(14,"div",8),p(15,"input",12),_(16,Ct,4,0,"span",10)(17,Et,4,0,"span",10),o(),e(18,"div",8),p(19,"input",13),_(20,St,4,0,"span",10)(21,Pt,7,0,"span",10),o(),e(22,"div",8),p(23,"input",14),e(24,"datalist",15),_(25,yt,2,2,"option",16),o(),_(26,Ft,4,0,"span",10),o(),e(27,"div",8),p(28,"input",17),e(29,"datalist",18),_(30,wt,2,2,"option",16),o(),_(31,It,4,0,"span",10),o(),e(32,"div",8),p(33,"input",19),_(34,Ot,4,0,"span",10)(35,Lt,4,0,"span",10),o(),e(36,"div",8),p(37,"input",20),_(38,Mt,4,0,"span",10)(39,At,4,0,"span",10),o(),e(40,"div",8),p(41,"input",21),_(42,Rt,4,0,"span",10),o(),e(43,"div",22)(44,"span",23),a(45,"PERFIL"),o(),e(46,"input",24),C("change",function(r){y(d);let l=E();return F(l.uploadImage(r))}),o()(),e(47,"div",22)(48,"span",23),a(49,"CAPTCHA"),o(),p(50,"input",25),o(),e(51,"div",8),p(52,"input",26),_(53,Tt,4,0,"span",10)(54,Nt,4,0,"span",10),o()(),e(55,"button",27),a(56,"Volver"),o(),e(57,"button",28),a(58,"Aceptar"),o()()()}if(t&2){let d,i,r,l,g,b,x,S,P,w,I,O,v,q,D,u,h=E();s(4),c("formGroup",h.registrarForm),s(4),c("ngIf",((d=h.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=h.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((i=h.registrarForm.get("nombre"))==null?null:i.hasError("minlength"))&&((i=h.registrarForm.get("nombre"))==null?null:i.touched)),s(3),c("ngIf",((r=h.registrarForm.get("apellido"))==null?null:r.hasError("required"))&&((r=h.registrarForm.get("apellido"))==null?null:r.touched)),s(),c("ngIf",((l=h.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=h.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((g=h.registrarForm.get("edad"))==null?null:g.hasError("required"))&&((g=h.registrarForm.get("edad"))==null?null:g.touched)),s(),c("ngIf",((b=h.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=h.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((x=h.registrarForm.get("dni"))==null?null:x.hasError("required"))&&((x=h.registrarForm.get("dni"))==null?null:x.touched)),s(),c("ngIf",((S=h.registrarForm.get("dni"))==null?null:S.hasError("minlength"))&&((S=h.registrarForm.get("dni"))==null?null:S.touched)),s(4),c("ngForOf",h.listEspecialidad),s(),c("ngIf",((P=h.registrarForm.get("especialidad"))==null?null:P.hasError("required"))&&((P=h.registrarForm.get("especialidad"))==null?null:P.touched)),s(4),c("ngForOf",h.listEspecialidad),s(),c("ngIf",((w=h.registrarForm.get("especialidad"))==null?null:w.hasError("required"))&&((w=h.registrarForm.get("especialidad"))==null?null:w.touched)),s(3),c("ngIf",((I=h.registrarForm.get("correo"))==null?null:I.hasError("required"))&&((I=h.registrarForm.get("correo"))==null?null:I.touched)),s(),c("ngIf",((O=h.registrarForm.get("correo"))==null?null:O.hasError("email"))&&((O=h.registrarForm.get("correo"))==null?null:O.touched)),s(3),c("ngIf",((v=h.registrarForm.get("password"))==null?null:v.hasError("required"))&&((v=h.registrarForm.get("password"))==null?null:v.touched)),s(),c("ngIf",((q=h.registrarForm.get("password"))==null?null:q.hasError("minlength"))&&((q=h.registrarForm.get("password"))==null?null:q.touched)),s(3),c("ngIf",h.registrarForm.hasError("notSame")),s(8),c("value",h.captchaGenerado),s(3),c("ngIf",((D=h.registrarForm.get("captcha"))==null?null:D.hasError("required"))&&((D=h.registrarForm.get("captcha"))==null?null:D.touched)),s(),c("ngIf",((u=h.registrarForm.get("captcha"))==null?null:u.hasError("isCaptchaWithParam"))&&((u=h.registrarForm.get("captcha"))==null?null:u.touched)),s(3),c("disabled",h.registrarForm.invalid)}}var ge=(()=>{let n=class n{constructor(i,r,l,g,b,x,S,P){this.fb=i,this.afAuth=r,this.router=l,this.toastr=g,this._errorService=b,this._especialidadService=x,this._usuarioService=S,this._captcha=P,this.loading=!1,this.suscriptionList=new T,this.listEspecialidad=[],this.captchaGenerado=this._captcha.pickearPalabraRandom(),console.log(this.captchaGenerado),this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4),this.validarLetra]],apellido:["",[m.required,m.minLength(4),this.validarLetra]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.minLength(7),m.maxLength(8)]],especialidad:["",[m.required,this.validarLetra]],otraEspecialidad:[""],fotoPerfil:["",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""],captcha:["",[m.required,ne.isCaptchaWithParam(this.captchaGenerado)]]},{validator:this.ckeckPassword})}ngOnInit(){this.getEspecialidad()}registrar(){this.registrarEspecialista(),this.router.navigate(["auth/login"])}registrarEspecialista(){return R(this,null,function*(){let i={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:null,especialidad:this.registrarForm.get("especialidad")?.value,otraEspecialidad:this.registrarForm.get("otraEspecialidad")?.value,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Especialista",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:null,aprobadoPorAdmin:"NO",baja:"NO",altura:"",peso:"",temperatura:"",presion:"",clave1:"",valor1:"",clave2:"",valor2:"",clave3:"",valor3:""};try{this.loading=!0;let r=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;this.afAuth.createUserWithEmailAndPassword(r,l).then(g=>{g.user?.sendEmailVerification(),this.afAuth&&(this._usuarioService.crearUsuario(i),qe.default.fire({position:"top-end",icon:"success",title:"Verifique su correo electr\xF3nico para autenticar el Alta del Usuario Especialista.",showConfirmButton:!1,timer:5e3}),this.registrarEspecialidad(),this.loading=!1)})}catch(r){setTimeout(function(){this.toastr.error(this._errorService.error(r.code),"Error - Especialista")},6e3)}})}registrarEspecialidad(){console.log("Registrar especialidad.");let i=this.registrarForm.get("especialidad")?.value;if(this.listEspecialidad.find(l=>l.nombre===i)===void 0){console.log("Valor No encontrado");let l={nombre:i,foto:"assets/especialidades/especialidades.png"};this._especialidadService.crearEspecialidad(l).then(g=>{this.toastr.success("La Especialidad fue registrada con \xE9xito!","Especialidad registrada!")}).catch(g=>{this.toastr.error(this._errorService.error(g.code),"Error")})}else console.log("Valor Existe")}getEspecialidad(){this.suscriptionList==this._especialidadService.getListadoEspecialidad().subscribe(i=>{this.listEspecialidad=[],i.forEach(r=>{this.listEspecialidad.push(U({id:r.payload.doc.id},r.payload.doc.data())),this.loading=!1})})}uploadImage(i){let r=i.target.files[0];this.obtengoFile="assets/especialidades/"+r.name}ckeckPassword(i){let r=i.controls.password?.value,l=i.controls.repetirPassword?.value;return r===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}validarLetra(i){let r=i.value;return/^[a-zA-Z]+$/.test(r)?null:{soloLetras:!0}}};n.\u0275fac=function(r){return new(r||n)(f(X),f(k),f(A),f(ie),f(te),f(je),f(V),f(de))},n.\u0275cmp=L({type:n,selectors:[["app-login-registrar"]],standalone:!0,features:[M],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio",2,"color","rgb(255, 255, 255)"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["list","especialidad","formControlName","especialidad","placeholder","Escriba una Especialidad...",1,"form-control","form-control-lg"],["id","especialidad"],[3,"value",4,"ngFor","ngForOf"],["list","otraEspecialidad","formControlName","otraEspecialidad","placeholder","Escriba una Especialidad...",1,"form-control","form-control-lg"],["id","otraEspecialidad"],["type","text","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["type","text","id","captchaVista","disabled","",1,"form-control","form-control-lg",3,"value"],["type","text","formControlName","captcha","placeholder","Escribir el Captcha que visualiza",1,"form-control","form-control-lg"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg","float-right",3,"disabled"],[1,"text-danger"],[3,"value"]],template:function(r,l){r&1&&(e(0,"div",0),_(1,ht,2,0,"div",1)(2,kt,59,22,"div",2),o()),r&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[B,ee,j,Y,Ie,Oe,$,re,H,Q,Z,K],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive;margin:40px}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let t=n;return t})();var De=(()=>{let n=class n{constructor(i){this.rutas=i}ngOnInit(){}volverInicio(){console.log("Verificar correo"),this.rutas.navigate(["bienvenidoLogin"])}};n.\u0275fac=function(r){return new(r||n)(f(A))},n.\u0275cmp=L({type:n,selectors:[["app-verificar-correo"]],standalone:!0,features:[M],decls:15,vars:0,consts:[[1,"conteiner","mt-3"],[1,"card"],[1,"card-body","text-center"],[1,"card-title"],[1,"form-group"],[1,"text-center"],[1,"form-group","text-center"],["routerLink","/bienvenidoLogin",1,"btn","btn-primary",3,"click"]],template:function(r,l){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),a(4,"Gracias por registrarse"),o(),e(5,"div",4)(6,"p",5),a(7," Hemos enviado un correo electr\xF3nico de confirmaci\xF3n a "),e(8,"strong"),a(9," su correo electr\xF3nico"),o()(),e(10,"p",5),a(11," Por favor revise su correo electr\xF3nico y haga clic en el enlace para verificar su direcci\xF3n de correo electr\xF3nico. "),o()(),e(12,"div",6)(13,"button",7),C("click",function(){return l.volverInicio()}),a(14,"Inicio"),o()()()()())},styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");background-size:85% auto;background-position:center top;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;height:86vh}']});let t=n;return t})();var Vt=[{path:"login",component:me},{path:"MenuRegistrar",component:Te},{path:"registrarPaciente",component:pe},{path:"registrar",component:ge},{path:"verificarCorreo",component:De},{path:"",redirectTo:"login",pathMatch:"full"}],Ue=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=le({type:n}),n.\u0275inj=ae({imports:[_e.forChild(Vt),_e]});let t=n;return t})();var Ge=ue(ve());function jt(t,n){t&1&&(e(0,"div",3),p(1,"app-spinner"),o())}function qt(t,n){t&1&&(e(0,"span",22),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function Dt(t,n){t&1&&(e(0,"span",22),a(1," Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function Ut(t,n){t&1&&(e(0,"span",22),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function Gt(t,n){t&1&&(e(0,"span",22),a(1," El Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function zt(t,n){t&1&&(e(0,"span",22),a(1," La Edad "),e(2,"strong"),a(3,"es requerida"),o()())}function Wt(t,n){t&1&&(e(0,"span",22),a(1," La Edad como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function Bt(t,n){t&1&&(e(0,"span",22),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function Jt(t,n){t&1&&(e(0,"span",22),a(1," El DNI como minimo "),e(2,"strong"),a(3,"tiene que tener 6 d\xEDgitos"),o()())}function $t(t,n){t&1&&(e(0,"span",22),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es requerido"),o()())}function Ht(t,n){t&1&&(e(0,"span",22),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function Qt(t,n){t&1&&(e(0,"span",22),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function Yt(t,n){t&1&&(e(0,"span",22),a(1," La contrase\xF1a como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function Zt(t,n){t&1&&(e(0,"span",22),a(1," Las Contrase\xF1as "),e(2,"strong"),a(3,"son distintas"),o()())}function Kt(t,n){if(t&1){let d=W();e(0,"div",4)(1,"h2",5),a(2,"REGISTRO DE UN ADMINISTRADOR"),o(),e(3,"form",6),C("ngSubmit",function(){y(d);let r=E();return F(r.registrar())}),e(4,"div",7)(5,"div",8),p(6,"input",9),_(7,qt,4,0,"span",10)(8,Dt,4,0,"span",10),o(),e(9,"div",8),p(10,"input",11),_(11,Ut,4,0,"span",10)(12,Gt,4,0,"span",10),o(),e(13,"div",8),p(14,"input",12),_(15,zt,4,0,"span",10)(16,Wt,4,0,"span",10),o(),e(17,"div",8),p(18,"input",13),_(19,Bt,4,0,"span",10)(20,Jt,4,0,"span",10),o(),e(21,"div",8),p(22,"input",14),_(23,$t,4,0,"span",10)(24,Ht,4,0,"span",10),o(),e(25,"div",8),p(26,"input",15),_(27,Qt,4,0,"span",10)(28,Yt,4,0,"span",10),o(),e(29,"div",8),p(30,"input",16),_(31,Zt,4,0,"span",10),o(),e(32,"div",17)(33,"span",18),a(34,"PERFIL"),o(),e(35,"input",19),C("change",function(r){y(d);let l=E();return F(l.uploadImage(r))}),o()()(),e(36,"button",20),a(37,"Volver"),o(),e(38,"button",21),a(39,"Aceptar"),o()()()}if(t&2){let d,i,r,l,g,b,x,S,P,w,I,O,v=E();s(3),c("formGroup",v.registrarForm),s(4),c("ngIf",((d=v.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=v.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((i=v.registrarForm.get("nombre"))==null?null:i.hasError("minlength"))&&((i=v.registrarForm.get("nombre"))==null?null:i.touched)),s(3),c("ngIf",((r=v.registrarForm.get("apellido"))==null?null:r.hasError("required"))&&((r=v.registrarForm.get("apellido"))==null?null:r.touched)),s(),c("ngIf",((l=v.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=v.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((g=v.registrarForm.get("edad"))==null?null:g.hasError("required"))&&((g=v.registrarForm.get("edad"))==null?null:g.touched)),s(),c("ngIf",((b=v.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=v.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((x=v.registrarForm.get("dni"))==null?null:x.hasError("required"))&&((x=v.registrarForm.get("dni"))==null?null:x.touched)),s(),c("ngIf",((S=v.registrarForm.get("dni"))==null?null:S.hasError("minlength"))&&((S=v.registrarForm.get("dni"))==null?null:S.touched)),s(3),c("ngIf",((P=v.registrarForm.get("correo"))==null?null:P.hasError("required"))&&((P=v.registrarForm.get("correo"))==null?null:P.touched)),s(),c("ngIf",((w=v.registrarForm.get("correo"))==null?null:w.hasError("email"))&&((w=v.registrarForm.get("correo"))==null?null:w.touched)),s(3),c("ngIf",((I=v.registrarForm.get("password"))==null?null:I.hasError("required"))&&((I=v.registrarForm.get("password"))==null?null:I.touched)),s(),c("ngIf",((O=v.registrarForm.get("password"))==null?null:O.hasError("minlength"))&&((O=v.registrarForm.get("password"))==null?null:O.touched)),s(3),c("ngIf",v.registrarForm.hasError("notSame")),s(7),c("disabled",v.registrarForm.invalid)}}var ze=(()=>{let n=class n{constructor(i,r,l,g,b,x){this.fb=i,this.afAuth=r,this.router=l,this.toastr=g,this._errorService=b,this._usuarioService=x,this.loading=!1,this.suscriptionList=new T,this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4)]],apellido:["",[m.required,m.minLength(4)]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.minLength(6)]],fotoPerfil:["",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""]},{validator:this.ckeckPassword})}ngOnInit(){}registrar(){this.registrarAdministrador(),this.router.navigate(["bienvenidoLogin"])}registrarAdministrador(){let i={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:null,especialidad:null,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Administrador",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:null,aprobadoPorAdmin:null,baja:null};try{this.loading=!0;let r=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;this.afAuth.createUserWithEmailAndPassword(r,l).then(g=>{g.user?.sendEmailVerification(),this.afAuth&&(Ge.default.fire({position:"top-end",icon:"success",title:"Verifique su Correo Electr\xF3nico para autenticar el Alta del Usuario Administrador.",showConfirmButton:!1,timer:5e3}),this.loading=!1)})}catch(r){setTimeout(()=>{this.toastr.error(this._errorService.error(r.code),"Error - Administrador")},6e3)}}uploadImage(i){let r=i.target.files[0];this.obtengoFile="assets/admin/"+r.name}ckeckPassword(i){let r=i.controls.password?.value,l=i.controls.repetirPassword?.value;return r===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}};n.\u0275fac=function(r){return new(r||n)(f(X),f(k),f(A),f(ie),f(te),f(V))},n.\u0275cmp=L({type:n,selectors:[["app-login-registrar-admin"]],standalone:!0,features:[M],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["type","text","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["routerLink","/bienvenido",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg","float-right",3,"disabled"],[1,"text-danger"]],template:function(r,l){r&1&&(e(0,"div",0),_(1,jt,2,0,"div",1)(2,Kt,40,15,"div",2),o()),r&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[B,ee,j,Y,$,re,H,Q,Z,K],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let t=n;return t})();var Yi=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=le({type:n}),n.\u0275inj=ae({imports:[Fe,Ue,Ae,Le,j,me,ge,pe,ze]});let t=n;return t})();export{Yi as AuthModule};
