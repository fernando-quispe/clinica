import{a as Z,b as ke}from"./chunk-IP76VMDD.js";import{b as Ve,c as qe}from"./chunk-FW7WX2D7.js";import{a as ee}from"./chunk-M2J66TQP.js";import{c as Ae,d as Re,g as ve,h as Te,i as Ne}from"./chunk-3PKXA2GJ.js";import{a as K,b as xe,g as je}from"./chunk-47BS2R76.js";import{B as we,C as W,D as m,E as J,F as $,H,I as te,J as Q,K as X,L as Ie,M as Le,N as Oe,O as Y,P as Me,Q as q,f as R,j as _e,v as k,x as B,z as V}from"./chunk-CMWQIRXH.js";import{Gb as A,O as ye,Pa as s,Qa as f,U as D,V as oe,Z as U,a as T,da as M,ea as ae,eb as _,gb as c,gc as z,ic as le,kb as e,lb as o,ma as Fe,mb as g,n as Pe,na as y,oa as F,pb as G,rb as C,sb as E,tb as fe,xb as a,yb as he}from"./chunk-2R5RJSOK.js";import"./chunk-WH4R2YDQ.js";import"./chunk-YT5AF7SN.js";import{a as j,f as ue,h as O}from"./chunk-SIAVTO45.js";var De=(()=>{let n=class n{constructor(t,r,l){this.afAuth=t,this.afs=r,this.unUsuario=l,this.suscriptionList=new T,this.listUsuario=[],this.listPerfil=[],this.user$=this.afAuth.authState.pipe(ye(p=>p?this.afs.doc(`users/${p.uid}`).valueChanges():Pe(null)))}enviandoVerificacionEmail(){return O(this,null,function*(){return(yield this.afAuth.currentUser).sendEmailVerification()})}resetPassword(t){return O(this,null,function*(){try{return this.afAuth.sendPasswordResetEmail(t)}catch(r){console.log(r)}})}sendVerificationEmail(){return O(this,null,function*(){return(yield this.afAuth.currentUser).sendEmailVerification()})}login(t,r){return O(this,null,function*(){try{let{user:l}=yield this.afAuth.signInWithEmailAndPassword(t,r);return this.updateUserData(l),this.logLogin(l.email),l}catch(l){return console.log(l),null}})}login2(t,r){return new Promise((l,p)=>{this.afAuth.signInWithEmailAndPassword(t,r).then(b=>{let x=new Date;this.afs.collection("ingresos").add({email:t,fechaacceso:x.getDate()+"-"+(x.getMonth()+1)+"-"+x.getFullYear(),dato:"Ingreso al sistema"}),l(b)}).catch(b=>{p(b)})})}register(t,r){return O(this,null,function*(){try{let{user:l}=yield this.afAuth.createUserWithEmailAndPassword(t,r);return yield this.sendVerificationEmail(),l}catch(l){return console.log(l),null}})}logout(){return O(this,null,function*(){try{yield this.afAuth.signOut()}catch(t){console.log(t)}})}updateUserData(t){let r=this.afs.doc(`users/${t.uid}`),l={uid:t.uid,email:t.email};return r.set(l,{merge:!0})}perfilBuscado(){let t=JSON.parse(localStorage.getItem("userPerfil"));return this.perfil=t,console.log("Imprimo Perfil Leido:",this.perfil),this.perfil}obtener_localstorage(){let t=JSON.parse(localStorage.getItem("user"));this.email=t.email,console.log("Service Paciente correo: ",this.email)}getPerfil(){return this.obtener_localstorage(),console.log("correo :",this.email),this.unUsuario.getPerfilUsuario(this.email).subscribe(t=>{t.forEach(l=>{this.listPerfil.push(j({id:l.payload.doc.id},l.payload.doc.data()))});let r={perfil:this.listPerfil[0].perfil,apellido:this.listPerfil[0].apellido,nombre:this.listPerfil[0].nombre,dni:this.listPerfil[0].dni,email:this.listPerfil[0].email,aprobadoPorAdmin:this.listPerfil[0].aprobadoPorAdmin,especialidad:this.listPerfil[0].especialidad,otraEspecialidad:this.listPerfil[0].otraEspecialidad,fotoPerfilUno:this.listPerfil[0].fotoPerfilUno,fotoPerfilDos:this.listPerfil[0].fotoPerfilDos};this.gralPerfil=r.perfil}),this.gralPerfil}isActualSessionAdministrador(){let t=this.getPerfil();return console.log("Imprimo Perfil auth esperado:",t),t==="Administrador"?(console.log("Paso 7 auth Servicio auth - perfil  ",this.perfil),!0):(console.log("Paso 8 auth Servicio auth -  NO",this.perfil),!1)}logLogin(t){this.afs.collection("ingresos").add({email:t,timestamp:new Date})}};n.\u0275fac=function(r){return new(r||n)(U(k),U(B),U(V))},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function Ke(i,n){i&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function Ze(i,n){i&1&&(e(0,"span",29),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es requerido"),o()())}function et(i,n){i&1&&(e(0,"span",29),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function tt(i,n){i&1&&(e(0,"span",29),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerido"),o()())}function it(i,n){if(i&1){let d=G();e(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div")(6,"h2",9),a(7,"LOGIN"),o()()(),e(8,"form",10),C("ngSubmit",function(){y(d);let r=E();return F(r.loginSiguiente())}),e(9,"div",11),g(10,"input",12)(11,"br"),_(12,Ze,4,0,"span",13)(13,et,4,0,"span",13),o(),e(14,"div",11),g(15,"input",14)(16,"br"),_(17,tt,4,0,"span",13),o(),e(18,"div")(19,"button",15),a(20,"Aceptar"),o(),e(21,"button",16),C("click",function(){y(d);let r=E();return F(r.registrarse())}),a(22,"Registrarse"),o()(),g(23,"br"),o(),g(24,"br"),o()()(),e(25,"div",17)(26,"h3",9),a(27,"ACCESOS"),o(),e(28,"table",18)(29,"tbody")(30,"tr")(31,"th",19)(32,"font",20),a(33,"Pacientes"),o()(),e(34,"th",21)(35,"font",20),a(36,"Especialistas"),o()(),e(37,"th",22)(38,"font",20),a(39,"Administrador"),o()()(),e(40,"tr")(41,"td")(42,"img",23),C("click",function(){y(d);let r=E();return F(r.onPaciente1())}),o()(),e(43,"td")(44,"img",24),C("click",function(){y(d);let r=E();return F(r.onPaciente2())}),o()(),e(45,"td")(46,"img",25),C("click",function(){y(d);let r=E();return F(r.onPaciente3())}),o()(),e(47,"td")(48,"img",26),C("click",function(){y(d);let r=E();return F(r.onEspecialista1())}),o()(),e(49,"td")(50,"img",27),C("click",function(){y(d);let r=E();return F(r.onEspecialista2())}),o()(),e(51,"td")(52,"img",28),C("click",function(){y(d);let r=E();return F(r.onAdmin1())}),o()()()()()()()}if(i&2){let d,t,r,l=E();s(8),c("formGroup",l.loginForm),s(2),c("value",l.muestroCorreo),s(2),c("ngIf",((d=l.loginForm.get("usuarioCorreo"))==null?null:d.hasError("required"))&&((d=l.loginForm.get("usuarioCorreo"))==null?null:d.touched)),s(),c("ngIf",((t=l.loginForm.get("usuarioCorreo"))==null?null:t.hasError("email"))&&((t=l.loginForm.get("usuarioCorreo"))==null?null:t.touched)),s(2),c("value",l.muestroClave),s(2),c("ngIf",((r=l.loginForm.get("usuarioClave"))==null?null:r.hasError("required"))&&((r=l.loginForm.get("usuarioClave"))==null?null:r.touched)),s(2),c("disabled",l.loginForm.invalid)}}var me=(()=>{let n=class n{constructor(t,r,l,p,b,x,S,P,w){this.rutas=t,this.fb=r,this.afAuth=l,this._errorService=p,this.toastr=b,this.unUsuario=x,this.af=S,this.authService=P,this.logService=w,this.loading=!1,this.suscriptionList=new T,this.suscription=new T,this.listUsuario=[],this.listPerfil=[],this.loginForm=this.fb.group({usuarioCorreo:["",[m.required,m.email]],usuarioClave:["",m.required]})}ngOnInit(){}login(t){this.authService.login(t,this.email).then(()=>{this.logService.logUserAccess(t)})}administradorLogin(){this.loginForm.controls.usuarioCorreo.setValue("admin@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}loginSiguiente(){console.log("Entramos en loginSiguiente ",this.loginForm);let t=this.loginForm.get("usuarioCorreo")?.value,r=this.loginForm.get("usuarioClave")?.value,l=new Date,p=l.toLocaleDateString(),b=l.toLocaleTimeString();this.loading=!0,setTimeout(()=>{console.log("Tiempo")},5e5),this.afAuth.signInWithEmailAndPassword(t,r).then(x=>{console.log("Respuesta ",x);let S={email:t,fecha:p,hora:b};this.af.collection("ingresos").add(S).then(()=>{console.log("Ingreso guardado en Firestore")}).catch(P=>{console.error("Error al guardar ingreso en Firestore: ",P)}),x.user?.emailVerified===!1?(this.loading=!1,this.rutas.navigate(["/auth/verificarCorreo"])):(console.log("Grabando Local Storage"),this.loading=!1,this.perfil="",this.setLocalStorage(x.user),this.setLocalStoragePerfil(),this.rutas.navigate(["/bienvenido"]))},x=>{this.loading=!1,this.toastr.error(this._errorService.error(x.code),"Error"),this.loginForm.reset()})}logLogin(t){this.af.collection("ingresos").add({email:t,timestamp:new Date})}setLocalStorage(t){let r={uid:t.uid,email:t.email};localStorage.setItem("user",JSON.stringify(r)),this.email=t.email}getPerfil(t){console.log("correo :",t),this.unUsuario.getPerfilUsuario(t).subscribe(r=>{r.forEach(p=>{this.listPerfil.push(j({id:p.payload.doc.id},p.payload.doc.data())),console.log(p.payload.doc.id),console.log(p.payload.doc.data())}),console.log("Lista Perfil ",this.listPerfil),console.log("Lista Perfil - Tipo ",this.listPerfil[0].perfil),console.log("Lista Perfil -  Autorizado ",this.listPerfil[0].aprobadoPorAdmin),localStorage.setItem("userPerfil",JSON.stringify(this.listPerfil[0].perfil)),localStorage.setItem("autorizadoPerfil",JSON.stringify(this.listPerfil[0].aprobadoPorAdmin));let l={perfil:this.listPerfil[0].perfil,apellido:this.listPerfil[0].apellido,nombre:this.listPerfil[0].nombre,dni:this.listPerfil[0].dni,email:this.listPerfil[0].email,aprobadoPorAdmin:this.listPerfil[0].aprobadoPorAdmin,especialidad:this.listPerfil[0].especialidad,otraEspecialidad:this.listPerfil[0].otraEspecialidad,fotoPerfilUno:this.listPerfil[0].fotoPerfilUno,fotoPerfilDos:this.listPerfil[0].fotoPerfilDos};localStorage.setItem("perfil",JSON.stringify(l))})}setLocalStoragePerfil(){console.log("Paso 1 Leyendo local storag");let t=JSON.parse(localStorage.getItem("user"));this.email=t.email,console.log("Paso 2 Imprimo email ",this.email),console.log("Paso 3 Grabando Perfil"),this.getPerfil(this.email)}onAdmin1(){this.loginForm.controls.usuarioCorreo.setValue("fernando.utn@hotmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onEspecialista1(){this.loginForm.controls.usuarioCorreo.setValue("moni.lili.ortegoza@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onEspecialista2(){this.loginForm.controls.usuarioCorreo.setValue("analistadetesting@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente1(){this.loginForm.controls.usuarioCorreo.setValue("santosquispe1950@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente2(){this.loginForm.controls.usuarioCorreo.setValue("lourdesriveramartinez1954@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente3(){this.loginForm.controls.usuarioCorreo.setValue("rifyesilte@gufum.com"),this.loginForm.controls.usuarioClave.setValue("123456")}registrarse(){this.rutas.navigate(["auth/MenuRegistrar"])}ngOnChanges(t){}};n.\u0275fac=function(r){return new(r||n)(f(R),f(Y),f(k),f(Z),f(ee),f(V),f(B),f(De),f(ke))},n.\u0275cmp=M({type:n,selectors:[["app-login"]],standalone:!0,features:[Fe,A],decls:4,vars:2,consts:[[1,"conteiner","mt-3"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"row"],[1,"container-table-login"],[1,"card"],[1,"card-body"],[1,"container-form"],[1,"text-center","tituloPropio"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["type","text","formControlName","usuarioCorreo","placeholder","Correo electr\xF3nico",1,"from-control","form-control-lg",3,"value"],["class","text-danger",4,"ngIf"],["type","password","formControlName","usuarioClave","placeholder","Contrase\xF1a",1,"from-control","form-control-lg",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["type","button","routerLink","/auth/MenuRegistrar",1,"btn","btn-primary","btn-lg","float-right",3,"click"],[1,"container-table","table-responsive"],[1,"mx-auto"],["colspan","3",1,"tituloPropio"],["color","#ffffff"],["colspan","2",1,"tituloPropio"],[1,"tituloPropio"],["src","./../../../assets/pacientes/paciente01.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/pacientes/paciente03.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/pacientes/paciente05.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/especialistas/especialista01.jpg","alt","img-usuario","alt","especialista",3,"click"],["src","./../../../assets/especialistas/especialista02.jpg","alt","img-usuario","alt","especialista",3,"click"],["src","./../../../assets/admin/admin1.jpeg","alt","img-usuario","alt","admin",3,"click"],[1,"text-danger"]],template:function(r,l){r&1&&(e(0,"section")(1,"div",0),_(2,Ke,2,0,"div",1)(3,it,53,7,"div",2),o()()),r&2&&(s(2),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[K,q,H,W,J,$,Q,X,z],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:600%}body[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-top:10px;padding-bottom:40px}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica-CAUED5U2.jpg");background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;height:96vh;max-width:3000px}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive}.contenedorLogin[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.text-danger[_ngcontent-%COMP%]{margin-left:10px}.container-form[_ngcontent-%COMP%]{border-radius:20px;margin:0;padding:0}img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px;border-radius:50px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#696969;font-weight:400;margin-top:10px}.container-table[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{text-align:center;color:#f5e8e8}.container-table-login[_ngcontent-%COMP%]{padding:10px;margin:0 auto}.TituloTablaColor[_ngcontent-%COMP%]{color:#dc194a}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:96vh}'],data:{animation:[Ae("enterState",[Te("void",ve({transform:"translateX(100%)",opacity:0})),Ne(":enter",[Re(500,ve({transform:"translateX(0)",opacity:1}))])])]}});let i=n;return i})();var Ue=(()=>{let n=class n{constructor(t){this.rutas=t}ngOnInit(){}paciente(){console.log("Registrar Paciente"),this.rutas.navigate(["auth/registrarPaciente"])}especialista(){console.log("Registrar Especialista"),this.rutas.navigate(["auth/registrar"])}admin(){console.log("Registrar Admin"),this.rutas.navigate(["auth/registrarAdmin"])}};n.\u0275fac=function(r){return new(r||n)(f(R))},n.\u0275cmp=M({type:n,selectors:[["app-menu-registrar"]],standalone:!0,features:[A],decls:28,vars:0,consts:[[1,"container"],[1,"card"],["src","../../../assets/registrar/pacienteRegistro1.jpg","alt","Avatar",1,"img-thumbnail"],[1,"contenido"],[1,"title"],[1,"card-body"],[1,"btn","btn-secondary","btn-lg","mt-3",3,"click"],["src","../../../assets/registrar/especialista1.jpg","width","50","alt","Avatar",1,"img-thumbnail"]],template:function(r,l){r&1&&(g(0,"app-menu-inicio"),e(1,"section")(2,"div",0)(3,"div",1)(4,"figure"),g(5,"img",2),o(),e(6,"div",3)(7,"p",4)(8,"strong"),a(9," PACIENTE"),o()(),e(10,"div",5),a(11," Para poder ingresar a la Cl\xEDnica Online y solicitar turno debe registrarse. Complete todos los datos. "),o(),g(12,"br"),e(13,"p")(14,"button",6),C("click",function(){return l.paciente()}),a(15,"Registrar"),o()()()(),e(16,"div",1)(17,"figure"),g(18,"img",7),o(),e(19,"div",3)(20,"p",4)(21,"strong"),a(22,"ESPECIALISTA"),o()(),e(23,"div",5),a(24," Para poder ingresar a la Cl\xEDnica Online y ser parte del personal debe registrarse, luego un Administrador validar\xE1 su usuario. "),o(),e(25,"p")(26,"button",6),C("click",function(){return l.especialista()}),a(27,"Registrar"),o()()()()()())},dependencies:[we],styles:["*[_ngcontent-%COMP%]{margin-top:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{width:100%;height:100vh;display:100 vh;display:flex;justify-content:center;align-items:center;font-family:sans-serif}.container[_ngcontent-%COMP%]{width:100%;display:flex;max-width:1100px;background:#ffb347;background:-webkit-linear-gradient(to right,#ffcc33,#ffb347);background:linear-gradient(to right,#fc3,#ffb347);background-size:100% auto;background-position:center top;background-repeat:no-repeat}.card[_ngcontent-%COMP%]{border-radius:0;border:1px solid #ccc;width:4300px;margin:20px;overflow:hidden;background:#fff;box-shadow:0 1px 10px #0003;cursor:default;transition:all 40ms ease}.card[_ngcontent-%COMP%]:hover{box-shadow:5px 5px 20px #0006;transform:translateY(-3%)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:310px;height:130px;display:block;margin-left:auto;margin-right:auto}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]{padding:15px;text-align:center}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5;color:#6a6a6a}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:400;margin-bottom:15px}.card[_ngcontent-%COMP%]   .contenido[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;padding:10px;margin-top:10px;color:#2fb4cc;border:1px solid #2fb4cc;border-radius:4px;transition:all 40ms ease}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:92vh}"]});let i=n;return i})();var ze=ue(xe());var Ge=(()=>{let n=class n{constructor(t){this._firestore=t}crearObraSocial(t){return console.log("Llegamos a grabar Obra Social"),this._firestore.collection("obrasociales").add(t)}getListadoObraSocial(){return this._firestore.collection("obrasociales").stateChanges()}eliminarObraSocial(t){return console.log("Id servicio ",t),this._firestore.collection("obrasociales").doc(t).delete()}modificarObraSocial(t,r){return this._firestore.collection("obrasociales").doc(t).update(r)}};n.\u0275fac=function(r){return new(r||n)(U(B))},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function nt(i,n){i&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function ot(i,n){i&1&&(e(0,"span",25),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function at(i,n){i&1&&(e(0,"span",25),a(1," Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function lt(i,n){i&1&&(e(0,"span",25),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function st(i,n){i&1&&(e(0,"span",25),a(1," Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function ct(i,n){i&1&&(e(0,"span",25),a(1," La Edad "),e(2,"strong"),a(3,"es requerido"),o()())}function mt(i,n){i&1&&(e(0,"span",25),a(1," Edad como minimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function dt(i,n){i&1&&(e(0,"span",25),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function pt(i,n){i&1&&(e(0,"span",25),a(1," El DNI minimo "),e(2,"strong"),a(3,"7 digitos"),o(),a(4," maximo "),e(5,"strong"),a(6,"8 digitos"),o()())}function gt(i,n){i&1&&(e(0,"span",25),a(1," La obra social "),e(2,"strong"),a(3,"es requerido"),o()())}function ut(i,n){i&1&&(e(0,"span",25),a(1," El Correo "),e(2,"strong"),a(3,"es requerido"),o()())}function ft(i,n){i&1&&(e(0,"span",25),a(1," Correo "),e(2,"strong"),a(3,"invalido"),o()())}function ht(i,n){i&1&&(e(0,"span",25),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function _t(i,n){i&1&&(e(0,"span",25),a(1," La contrase\xF1a como minimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function vt(i,n){i&1&&(e(0,"span",25),a(1," Contrase\xF1a "),e(2,"strong"),a(3,"distintas"),o()())}function xt(i,n){if(i&1){let d=G();e(0,"div",4)(1,"h2",5)(2,"strong"),a(3,"REGISTRO DE PACIENTE"),o()(),e(4,"form",6),C("ngSubmit",function(){y(d);let r=E();return F(r.registrar())}),e(5,"div",7)(6,"div",8),g(7,"input",9),_(8,ot,4,0,"span",10)(9,at,4,0,"span",10),o(),e(10,"div",8),g(11,"input",11),_(12,lt,4,0,"span",10)(13,st,4,0,"span",10),o(),e(14,"div",8),g(15,"input",12),_(16,ct,4,0,"span",10)(17,mt,4,0,"span",10),o(),e(18,"div",8),g(19,"input",13),_(20,dt,4,0,"span",10)(21,pt,7,0,"span",10),o(),e(22,"div",8),g(23,"input",14),_(24,gt,4,0,"span",10),o(),e(25,"div",8),g(26,"input",15),_(27,ut,4,0,"span",10)(28,ft,4,0,"span",10),o(),e(29,"div",8),g(30,"input",16),_(31,ht,4,0,"span",10)(32,_t,4,0,"span",10),o(),e(33,"div",8),g(34,"input",17),_(35,vt,4,0,"span",10),o(),e(36,"div",18)(37,"span",19),a(38,"PERFIL"),o(),e(39,"input",20),C("change",function(r){y(d);let l=E();return F(l.uploadImage(r))}),o()(),e(40,"div",18)(41,"span",19),a(42,"PERFIL"),o(),e(43,"input",21),C("change",function(r){y(d);let l=E();return F(l.uploadImage2(r))}),o()(),e(44,"div",22)(45,"re-captcha",23),C("resolved",function(r){y(d);let l=E();return F(l.onCaptchaResolved(r))}),o()()(),e(46,"button",24),a(47,"Registrar"),o()()()}if(i&2){let d,t,r,l,p,b,x,S,P,w,I,L,h,v=E();s(4),c("formGroup",v.registrarForm),s(4),c("ngIf",((d=v.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=v.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((t=v.registrarForm.get("nombre"))==null?null:t.hasError("minlength"))&&((t=v.registrarForm.get("nombre"))==null?null:t.touched)),s(3),c("ngIf",((r=v.registrarForm.get("apellido"))==null?null:r.hasError("required"))&&((r=v.registrarForm.get("apellido"))==null?null:r.touched)),s(),c("ngIf",((l=v.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=v.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((p=v.registrarForm.get("edad"))==null?null:p.hasError("required"))&&((p=v.registrarForm.get("edad"))==null?null:p.touched)),s(),c("ngIf",((b=v.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=v.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((x=v.registrarForm.get("dni"))==null?null:x.hasError("required"))&&((x=v.registrarForm.get("dni"))==null?null:x.touched)),s(),c("ngIf",((S=v.registrarForm.get("dni"))==null?null:S.hasError("minlength"))&&((S=v.registrarForm.get("dni"))==null?null:S.touched)),s(3),c("ngIf",((P=v.registrarForm.get("obrasocial"))==null?null:P.hasError("required"))&&((P=v.registrarForm.get("obrasocial"))==null?null:P.touched)),s(3),c("ngIf",((w=v.registrarForm.get("correo"))==null?null:w.hasError("required"))&&((w=v.registrarForm.get("correo"))==null?null:w.touched)),s(),c("ngIf",((I=v.registrarForm.get("correo"))==null?null:I.hasError("email"))&&((I=v.registrarForm.get("correo"))==null?null:I.touched)),s(3),c("ngIf",((L=v.registrarForm.get("password"))==null?null:L.hasError("required"))&&((L=v.registrarForm.get("password"))==null?null:L.touched)),s(),c("ngIf",((h=v.registrarForm.get("password"))==null?null:h.hasError("minlength"))&&((h=v.registrarForm.get("password"))==null?null:h.touched)),s(3),c("ngIf",v.registrarForm.hasError("notSame")),s(10),c("siteKey","6LcDnXgqAAAAABoVFJU6wvtFmhQX7InVYLLhiDi6")}}var de=(()=>{let n=class n{constructor(t,r,l,p,b,x,S){this.fb=t,this.afAuth=r,this.router=l,this.toastr=p,this._errorService=b,this._obrasocialService=x,this._usuarioService=S,this.loading=!1,this.suscriptionList=new T,this.listObrasocial=[],this.gabrarSegundaParte=!1,this.userCaptchaAnswer=null,this.captchaPassed=null,this.correctAnswer=0,this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4),this.validarLetra]],apellido:["",[m.required,m.minLength(4),this.validarLetra]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.min(7),m.max(8)]],obrasocial:["",[m.required]],fotoPerfil:["no la guardo aun",[m.required]],fotoPerfil2:["no la guardo aun",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""],captcha:["",m.required]},{validator:this.ckeckPassword})}ngOnInit(){this.getObrasocial()}onCaptchaResolved(t){this.registrarForm.patchValue({captcha:t})}registrar(){return O(this,null,function*(){if(!this.registrarForm.get("captcha")?.value){this.toastr.error("Debe completar el reCAPTCHA antes de continuar","Error");return}console.log("grabrarSegundaParte0 "),this.registrarPaciente(),console.log("grabrarSegundaParte3 "),this.router.navigate(["auth/login"])})}registrarPaciente(){return O(this,null,function*(){let t={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:this.registrarForm.get("obrasocial")?.value,especialidad:null,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Paciente",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:this.obtengoFile2,aprobadoPorAdmin:"NO",baja:"NO",altura:"",peso:"",temperatura:"",presion:"",clave1:"",valor1:"",clave2:"",valor2:"",clave3:"",valor3:""};console.log("estamos en registrar usuario paciente:",t.email);try{this.loading=!0;let r=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;yield this.afAuth.createUserWithEmailAndPassword(r,l),yield(yield this.afAuth.currentUser).sendEmailVerification(),console.log(this.afAuth),this.afAuth&&(this._usuarioService.crearUsuario(t),ze.default.fire({position:"top-end",icon:"success",title:"El Paciente fue registrado con \xE9xito!",showConfirmButton:!1,timer:5e3}),this.loading=!1)}catch(r){this.toastr.error(this._errorService.error(r.code),"Error - Paciente"),setTimeout(()=>{this.toastr.error(this._errorService.error(r.code),"Error - Paciente")},6e3)}})}getObrasocial(){this.loading=!0,this.suscriptionList==this._obrasocialService.getListadoObraSocial().subscribe(t=>{this.listObrasocial=[],t.forEach(r=>{this.listObrasocial.push(j({id:r.payload.doc.id},r.payload.doc.data())),this.loading=!1}),console.log("Lista Obrasocial",this.listObrasocial)})}registrarObraSocial(){console.log("Probando Registrar Obrasocial");let t={nombre:"OSDE"};this._obrasocialService.crearObraSocial(t).then(r=>{this.toastr.success("La Obra Social fue registrada con \xE9xito!","Obra Social registrada!")}).catch(r=>{this.toastr.error(this._errorService.error(r.code),"Error Obra Social")})}uploadImage(t){let r=t.target.files[0];this.obtengoFile="assets/paciente/"+r.name}uploadImage2(t){let r=t.target.files[0];this.obtengoFile2="assets/paciente/"+r.name}ckeckPassword(t){let r=t.controls.password?.value,l=t.controls.repetirPassword?.value;return r===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}validarLetra(t){let r=t.value;return/^[a-zA-Z]+$/.test(r)?null:{soloLetras:!0}}executeRecaptcha(){this.recaptchaService.execute("").subscribe(t=>{console.log(t)})}executeRecaptchaVisible(t){console.log(t)}};n.\u0275fac=function(r){return new(r||n)(f(Y),f(k),f(R),f(ee),f(Z),f(Ge),f(V))},n.\u0275cmp=M({type:n,selectors:[["app-login-registrar-usuario"]],standalone:!0,features:[A],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio",2,"color","white"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["list","obrasocial","formControlName","obrasocial","placeholder","Escriba una Obra Social...",1,"form-control","form-control-lg"],["type","email","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["type","file","formControlName","fotoPerfil2",1,"form-control","form-control-lg",3,"change"],[1,"form-group"],["formControlName","captcha","required","",3,"resolved","siteKey"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg"],[1,"text-danger"]],template:function(r,l){r&1&&(e(0,"div",0),_(1,nt,2,0,"div",1)(2,xt,48,16,"div",2),o()),r&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[z,q,H,W,te,J,$,Oe,Q,X,K,le,qe,Ve],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive;margin:100px}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let i=n;return i})();var pe=class{static isCaptchaWithParam(n){return d=>{console.log("MyValidationprimerParam ",n);let t=d.value;return console.log("MyValidationValue ",t),n!=t?(console.log("return true"),{isCaptcha:!0}):(console.log("return false"),null)}}};var Je=ue(xe());var Be=(()=>{let n=class n{constructor(t){this._firestore=t}crearEspecialidad(t){return this._firestore.collection("especialidades").add(t)}getListadoEspecialidad(){return this._firestore.collection("especialidades").stateChanges()}eliminarEspecialidad(t){return console.log("Id servicio ",t),this._firestore.collection("especialidades").doc(t).delete()}modificarEspecialidad(t,r){return this._firestore.collection("especialidades").doc(t).update(r)}};n.\u0275fac=function(r){return new(r||n)(U(B))},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var We=(()=>{let n=class n{constructor(){this.arrayPalabras=["ABHT1","AS68H","ASVRW","ADND23","ASBG2","ASGB3","GBH52","1A2ASD"]}pickearPalabraRandom(){let t=Math.floor(Math.random()*7)+1;return this.arrayPalabras[t]}};n.\u0275fac=function(r){return new(r||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function Et(i,n){i&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function St(i,n){i&1&&(e(0,"span",29),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function Pt(i,n){i&1&&(e(0,"span",29),a(1," El Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function yt(i,n){i&1&&(e(0,"span",29),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function Ft(i,n){i&1&&(e(0,"span",29),a(1," El Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function wt(i,n){i&1&&(e(0,"span",29),a(1," La Edad "),e(2,"strong"),a(3,"es requerida"),o()())}function It(i,n){i&1&&(e(0,"span",29),a(1," La Edad como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function Lt(i,n){i&1&&(e(0,"span",29),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function Ot(i,n){i&1&&(e(0,"span",29),a(1," El DNI como m\xEDnimo "),e(2,"strong"),a(3,"7 d\xEDgitos"),o(),a(4," m\xE1ximo "),e(5,"strong"),a(6,"8 d\xEDgitos"),o()())}function Mt(i,n){if(i&1&&(e(0,"option",30),a(1),o()),i&2){let d=n.$implicit;fe("value",d.nombre),s(),he(d.nombre)}}function At(i,n){i&1&&(e(0,"span",29),a(1," La Especialidad "),e(2,"strong"),a(3,"es requerida"),o()())}function Rt(i,n){if(i&1&&(e(0,"option",30),a(1),o()),i&2){let d=n.$implicit;fe("value",d.nombre),s(),he(d.nombre)}}function Tt(i,n){i&1&&(e(0,"span",29),a(1," La Especialidad "),e(2,"strong"),a(3,"es requerida"),o()())}function Nt(i,n){i&1&&(e(0,"span",29),a(1," El correo electr\xF3nico "),e(2,"strong"),a(3,"es requerido"),o()())}function kt(i,n){i&1&&(e(0,"span",29),a(1," El correo electr\xF3nico "),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function Vt(i,n){i&1&&(e(0,"span",29),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function qt(i,n){i&1&&(e(0,"span",29),a(1," La contrase\xF1a como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function jt(i,n){i&1&&(e(0,"span",29),a(1," Las Contrase\xF1as "),e(2,"strong"),a(3,"son distintas"),o()())}function Dt(i,n){i&1&&(e(0,"span",29),a(1," El Captcha "),e(2,"strong"),a(3,"es requerido"),o()())}function Ut(i,n){i&1&&(e(0,"span",29),a(1," Los Captchas "),e(2,"strong"),a(3,"deben ser iguales"),o()())}function Gt(i,n){if(i&1){let d=G();e(0,"div",4)(1,"h2",5)(2,"strong"),a(3,"REGISTRO DE ESPECIALISTA"),o()(),e(4,"form",6),C("ngSubmit",function(){y(d);let r=E();return F(r.registrar())}),e(5,"div",7)(6,"div",8),g(7,"input",9),_(8,St,4,0,"span",10)(9,Pt,4,0,"span",10),o(),e(10,"div",8),g(11,"input",11),_(12,yt,4,0,"span",10)(13,Ft,4,0,"span",10),o(),e(14,"div",8),g(15,"input",12),_(16,wt,4,0,"span",10)(17,It,4,0,"span",10),o(),e(18,"div",8),g(19,"input",13),_(20,Lt,4,0,"span",10)(21,Ot,7,0,"span",10),o(),e(22,"div",8),g(23,"input",14),e(24,"datalist",15),_(25,Mt,2,2,"option",16),o(),_(26,At,4,0,"span",10),o(),e(27,"div",8),g(28,"input",17),e(29,"datalist",18),_(30,Rt,2,2,"option",16),o(),_(31,Tt,4,0,"span",10),o(),e(32,"div",8),g(33,"input",19),_(34,Nt,4,0,"span",10)(35,kt,4,0,"span",10),o(),e(36,"div",8),g(37,"input",20),_(38,Vt,4,0,"span",10)(39,qt,4,0,"span",10),o(),e(40,"div",8),g(41,"input",21),_(42,jt,4,0,"span",10),o(),e(43,"div",22)(44,"span",23),a(45,"PERFIL"),o(),e(46,"input",24),C("change",function(r){y(d);let l=E();return F(l.uploadImage(r))}),o()(),e(47,"div",22)(48,"span",23),a(49,"CAPTCHA"),o(),g(50,"input",25),o(),e(51,"div",8),g(52,"input",26),_(53,Dt,4,0,"span",10)(54,Ut,4,0,"span",10),o()(),e(55,"button",27),a(56,"Volver"),o(),e(57,"button",28),a(58,"Aceptar"),o()()()}if(i&2){let d,t,r,l,p,b,x,S,P,w,I,L,h,v,re,ne,u=E();s(4),c("formGroup",u.registrarForm),s(4),c("ngIf",((d=u.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=u.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((t=u.registrarForm.get("nombre"))==null?null:t.hasError("minlength"))&&((t=u.registrarForm.get("nombre"))==null?null:t.touched)),s(3),c("ngIf",((r=u.registrarForm.get("apellido"))==null?null:r.hasError("required"))&&((r=u.registrarForm.get("apellido"))==null?null:r.touched)),s(),c("ngIf",((l=u.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=u.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((p=u.registrarForm.get("edad"))==null?null:p.hasError("required"))&&((p=u.registrarForm.get("edad"))==null?null:p.touched)),s(),c("ngIf",((b=u.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=u.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((x=u.registrarForm.get("dni"))==null?null:x.hasError("required"))&&((x=u.registrarForm.get("dni"))==null?null:x.touched)),s(),c("ngIf",((S=u.registrarForm.get("dni"))==null?null:S.hasError("minlength"))&&((S=u.registrarForm.get("dni"))==null?null:S.touched)),s(4),c("ngForOf",u.listEspecialidad),s(),c("ngIf",((P=u.registrarForm.get("especialidad"))==null?null:P.hasError("required"))&&((P=u.registrarForm.get("especialidad"))==null?null:P.touched)),s(4),c("ngForOf",u.listEspecialidad),s(),c("ngIf",((w=u.registrarForm.get("especialidad"))==null?null:w.hasError("required"))&&((w=u.registrarForm.get("especialidad"))==null?null:w.touched)),s(3),c("ngIf",((I=u.registrarForm.get("correo"))==null?null:I.hasError("required"))&&((I=u.registrarForm.get("correo"))==null?null:I.touched)),s(),c("ngIf",((L=u.registrarForm.get("correo"))==null?null:L.hasError("email"))&&((L=u.registrarForm.get("correo"))==null?null:L.touched)),s(3),c("ngIf",((h=u.registrarForm.get("password"))==null?null:h.hasError("required"))&&((h=u.registrarForm.get("password"))==null?null:h.touched)),s(),c("ngIf",((v=u.registrarForm.get("password"))==null?null:v.hasError("minlength"))&&((v=u.registrarForm.get("password"))==null?null:v.touched)),s(3),c("ngIf",u.registrarForm.hasError("notSame")),s(8),c("value",u.captchaGenerado),s(3),c("ngIf",((re=u.registrarForm.get("captcha"))==null?null:re.hasError("required"))&&((re=u.registrarForm.get("captcha"))==null?null:re.touched)),s(),c("ngIf",((ne=u.registrarForm.get("captcha"))==null?null:ne.hasError("isCaptchaWithParam"))&&((ne=u.registrarForm.get("captcha"))==null?null:ne.touched)),s(3),c("disabled",u.registrarForm.invalid)}}var ge=(()=>{let n=class n{constructor(t,r,l,p,b,x,S,P){this.fb=t,this.afAuth=r,this.router=l,this.toastr=p,this._errorService=b,this._especialidadService=x,this._usuarioService=S,this._captcha=P,this.loading=!1,this.suscriptionList=new T,this.listEspecialidad=[],this.captchaGenerado=this._captcha.pickearPalabraRandom(),console.log(this.captchaGenerado),this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4),this.validarLetra]],apellido:["",[m.required,m.minLength(4),this.validarLetra]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.minLength(7),m.maxLength(8)]],especialidad:["",[m.required,this.validarLetra]],otraEspecialidad:[""],fotoPerfil:["",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""],captcha:["",[m.required,pe.isCaptchaWithParam(this.captchaGenerado)]]},{validator:this.ckeckPassword})}ngOnInit(){this.getEspecialidad()}registrar(){this.registrarEspecialista(),this.router.navigate(["auth/login"])}registrarEspecialista(){return O(this,null,function*(){let t={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:null,especialidad:this.registrarForm.get("especialidad")?.value,otraEspecialidad:this.registrarForm.get("otraEspecialidad")?.value,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Especialista",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:null,aprobadoPorAdmin:"NO",baja:"NO",altura:"",peso:"",temperatura:"",presion:"",clave1:"",valor1:"",clave2:"",valor2:"",clave3:"",valor3:""};try{this.loading=!0;let r=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;this.afAuth.createUserWithEmailAndPassword(r,l).then(p=>{p.user?.sendEmailVerification(),this.afAuth&&(this._usuarioService.crearUsuario(t),Je.default.fire({position:"top-end",icon:"success",title:"Verifique su correo electr\xF3nico para autenticar el Alta del Usuario Especialista.",showConfirmButton:!1,timer:5e3}),this.registrarEspecialidad(),this.loading=!1)})}catch(r){setTimeout(function(){this.toastr.error(this._errorService.error(r.code),"Error - Especialista")},6e3)}})}registrarEspecialidad(){console.log("Registrar especialidad.");let t=this.registrarForm.get("especialidad")?.value;if(this.listEspecialidad.find(l=>l.nombre===t)===void 0){console.log("Valor No encontrado");let l={nombre:t,foto:"assets/especialidades/especialidades.png"};this._especialidadService.crearEspecialidad(l).then(p=>{this.toastr.success("La Especialidad fue registrada con \xE9xito!","Especialidad registrada!")}).catch(p=>{this.toastr.error(this._errorService.error(p.code),"Error")})}else console.log("Valor Existe")}getEspecialidad(){this.suscriptionList==this._especialidadService.getListadoEspecialidad().subscribe(t=>{this.listEspecialidad=[],t.forEach(r=>{this.listEspecialidad.push(j({id:r.payload.doc.id},r.payload.doc.data())),this.loading=!1})})}uploadImage(t){let r=t.target.files[0];this.obtengoFile="assets/especialidades/"+r.name}ckeckPassword(t){let r=t.controls.password?.value,l=t.controls.repetirPassword?.value;return r===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}validarLetra(t){let r=t.value;return/^[a-zA-Z]+$/.test(r)?null:{soloLetras:!0}}};n.\u0275fac=function(r){return new(r||n)(f(Y),f(k),f(R),f(ee),f(Z),f(Be),f(V),f(We))},n.\u0275cmp=M({type:n,selectors:[["app-login-registrar"]],standalone:!0,features:[A],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio",2,"color","rgb(255, 255, 255)"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["list","especialidad","formControlName","especialidad","placeholder","Escriba una Especialidad...",1,"form-control","form-control-lg"],["id","especialidad"],[3,"value",4,"ngFor","ngForOf"],["list","otraEspecialidad","formControlName","otraEspecialidad","placeholder","Escriba una Especialidad...",1,"form-control","form-control-lg"],["id","otraEspecialidad"],["type","text","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["type","text","id","captchaVista","disabled","",1,"form-control","form-control-lg",3,"value"],["type","text","formControlName","captcha","placeholder","Escribir el Captcha que visualiza",1,"form-control","form-control-lg"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg","float-right",3,"disabled"],[1,"text-danger"],[3,"value"]],template:function(r,l){r&1&&(e(0,"div",0),_(1,Et,2,0,"div",1)(2,Gt,59,22,"div",2),o()),r&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[z,K,q,H,Ie,Le,W,te,J,$,Q,X],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive;margin:40px}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let i=n;return i})();var $e=(()=>{let n=class n{constructor(t){this.rutas=t}ngOnInit(){}volverInicio(){console.log("Verificar correo"),this.rutas.navigate(["bienvenidoLogin"])}};n.\u0275fac=function(r){return new(r||n)(f(R))},n.\u0275cmp=M({type:n,selectors:[["app-verificar-correo"]],standalone:!0,features:[A],decls:15,vars:0,consts:[[1,"conteiner","mt-3"],[1,"card"],[1,"card-body","text-center"],[1,"card-title"],[1,"form-group"],[1,"text-center"],[1,"form-group","text-center"],["routerLink","/bienvenidoLogin",1,"btn","btn-primary",3,"click"]],template:function(r,l){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),a(4,"Gracias por registrarse"),o(),e(5,"div",4)(6,"p",5),a(7," Hemos enviado un correo electr\xF3nico de confirmaci\xF3n a "),e(8,"strong"),a(9," su correo electr\xF3nico"),o()(),e(10,"p",5),a(11," Por favor revise su correo electr\xF3nico y haga clic en el enlace para verificar su direcci\xF3n de correo electr\xF3nico. "),o()(),e(12,"div",6)(13,"button",7),C("click",function(){return l.volverInicio()}),a(14,"Inicio"),o()()()()())},styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");background-size:85% auto;background-position:center top;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;height:86vh}']});let i=n;return i})();var zt=[{path:"login",component:me,data:{animation:"login"}},{path:"MenuRegistrar",component:Ue},{path:"registrarPaciente",component:de},{path:"registrar",component:ge},{path:"verificarCorreo",component:$e},{path:"",redirectTo:"login",pathMatch:"full"}],He=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=ae({type:n}),n.\u0275inj=oe({imports:[_e.forChild(zt),_e]});let i=n;return i})();var Qe=ue(xe());function Bt(i,n){i&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function Wt(i,n){i&1&&(e(0,"span",22),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function Jt(i,n){i&1&&(e(0,"span",22),a(1," Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function $t(i,n){i&1&&(e(0,"span",22),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function Ht(i,n){i&1&&(e(0,"span",22),a(1," El Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function Qt(i,n){i&1&&(e(0,"span",22),a(1," La Edad "),e(2,"strong"),a(3,"es requerida"),o()())}function Xt(i,n){i&1&&(e(0,"span",22),a(1," La Edad como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function Yt(i,n){i&1&&(e(0,"span",22),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function Kt(i,n){i&1&&(e(0,"span",22),a(1," El DNI como minimo "),e(2,"strong"),a(3,"tiene que tener 6 d\xEDgitos"),o()())}function Zt(i,n){i&1&&(e(0,"span",22),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es requerido"),o()())}function ei(i,n){i&1&&(e(0,"span",22),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function ti(i,n){i&1&&(e(0,"span",22),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function ii(i,n){i&1&&(e(0,"span",22),a(1," La contrase\xF1a como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function ri(i,n){i&1&&(e(0,"span",22),a(1," Las Contrase\xF1as "),e(2,"strong"),a(3,"son distintas"),o()())}function ni(i,n){if(i&1){let d=G();e(0,"div",4)(1,"h2",5),a(2,"REGISTRO DE UN ADMINISTRADOR"),o(),e(3,"form",6),C("ngSubmit",function(){y(d);let r=E();return F(r.registrar())}),e(4,"div",7)(5,"div",8),g(6,"input",9),_(7,Wt,4,0,"span",10)(8,Jt,4,0,"span",10),o(),e(9,"div",8),g(10,"input",11),_(11,$t,4,0,"span",10)(12,Ht,4,0,"span",10),o(),e(13,"div",8),g(14,"input",12),_(15,Qt,4,0,"span",10)(16,Xt,4,0,"span",10),o(),e(17,"div",8),g(18,"input",13),_(19,Yt,4,0,"span",10)(20,Kt,4,0,"span",10),o(),e(21,"div",8),g(22,"input",14),_(23,Zt,4,0,"span",10)(24,ei,4,0,"span",10),o(),e(25,"div",8),g(26,"input",15),_(27,ti,4,0,"span",10)(28,ii,4,0,"span",10),o(),e(29,"div",8),g(30,"input",16),_(31,ri,4,0,"span",10),o(),e(32,"div",17)(33,"span",18),a(34,"PERFIL"),o(),e(35,"input",19),C("change",function(r){y(d);let l=E();return F(l.uploadImage(r))}),o()()(),e(36,"button",20),a(37,"Volver"),o(),e(38,"button",21),a(39,"Aceptar"),o()()()}if(i&2){let d,t,r,l,p,b,x,S,P,w,I,L,h=E();s(3),c("formGroup",h.registrarForm),s(4),c("ngIf",((d=h.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=h.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((t=h.registrarForm.get("nombre"))==null?null:t.hasError("minlength"))&&((t=h.registrarForm.get("nombre"))==null?null:t.touched)),s(3),c("ngIf",((r=h.registrarForm.get("apellido"))==null?null:r.hasError("required"))&&((r=h.registrarForm.get("apellido"))==null?null:r.touched)),s(),c("ngIf",((l=h.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=h.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((p=h.registrarForm.get("edad"))==null?null:p.hasError("required"))&&((p=h.registrarForm.get("edad"))==null?null:p.touched)),s(),c("ngIf",((b=h.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=h.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((x=h.registrarForm.get("dni"))==null?null:x.hasError("required"))&&((x=h.registrarForm.get("dni"))==null?null:x.touched)),s(),c("ngIf",((S=h.registrarForm.get("dni"))==null?null:S.hasError("minlength"))&&((S=h.registrarForm.get("dni"))==null?null:S.touched)),s(3),c("ngIf",((P=h.registrarForm.get("correo"))==null?null:P.hasError("required"))&&((P=h.registrarForm.get("correo"))==null?null:P.touched)),s(),c("ngIf",((w=h.registrarForm.get("correo"))==null?null:w.hasError("email"))&&((w=h.registrarForm.get("correo"))==null?null:w.touched)),s(3),c("ngIf",((I=h.registrarForm.get("password"))==null?null:I.hasError("required"))&&((I=h.registrarForm.get("password"))==null?null:I.touched)),s(),c("ngIf",((L=h.registrarForm.get("password"))==null?null:L.hasError("minlength"))&&((L=h.registrarForm.get("password"))==null?null:L.touched)),s(3),c("ngIf",h.registrarForm.hasError("notSame")),s(7),c("disabled",h.registrarForm.invalid)}}var Xe=(()=>{let n=class n{constructor(t,r,l,p,b,x){this.fb=t,this.afAuth=r,this.router=l,this.toastr=p,this._errorService=b,this._usuarioService=x,this.loading=!1,this.suscriptionList=new T,this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4)]],apellido:["",[m.required,m.minLength(4)]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.minLength(6)]],fotoPerfil:["",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""]},{validator:this.ckeckPassword})}ngOnInit(){}registrar(){this.registrarAdministrador(),this.router.navigate(["bienvenidoLogin"])}registrarAdministrador(){let t={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:null,especialidad:null,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Administrador",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:null,aprobadoPorAdmin:null,baja:null};try{this.loading=!0;let r=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;this.afAuth.createUserWithEmailAndPassword(r,l).then(p=>{p.user?.sendEmailVerification(),this.afAuth&&(Qe.default.fire({position:"top-end",icon:"success",title:"Verifique su Correo Electr\xF3nico para autenticar el Alta del Usuario Administrador.",showConfirmButton:!1,timer:5e3}),this.loading=!1)})}catch(r){setTimeout(()=>{this.toastr.error(this._errorService.error(r.code),"Error - Administrador")},6e3)}}uploadImage(t){let r=t.target.files[0];this.obtengoFile="assets/admin/"+r.name}ckeckPassword(t){let r=t.controls.password?.value,l=t.controls.repetirPassword?.value;return r===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}};n.\u0275fac=function(r){return new(r||n)(f(Y),f(k),f(R),f(ee),f(Z),f(V))},n.\u0275cmp=M({type:n,selectors:[["app-login-registrar-admin"]],standalone:!0,features:[A],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["type","text","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["routerLink","/bienvenido",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg","float-right",3,"disabled"],[1,"text-danger"]],template:function(r,l){r&1&&(e(0,"div",0),_(1,Bt,2,0,"div",1)(2,ni,40,15,"div",2),o()),r&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[z,K,q,H,W,te,J,$,Q,X],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let i=n;return i})();var nr=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=ae({type:n}),n.\u0275inj=oe({imports:[le,He,je,Me,q,me,ge,de,Xe]});let i=n;return i})();export{nr as AuthModule};
