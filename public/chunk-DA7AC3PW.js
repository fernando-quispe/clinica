import{a as H,b as ke}from"./chunk-IP76VMDD.js";import{b as le,c as se}from"./chunk-FW7WX2D7.js";import{a as Y}from"./chunk-M2J66TQP.js";import{c as Ie,d as Ae,g as ve,h as Re,i as Te}from"./chunk-3PKXA2GJ.js";import{a as Z,b as xe,g as Ne}from"./chunk-47BS2R76.js";import{B as we,C as B,D as m,E as J,F as W,H as $,I as te,J as K,K as Q,L as Oe,M as Me,N as ae,O as X,P as Le,Q as V,f as R,j as _e,v as k,x as G,z as N}from"./chunk-CMWQIRXH.js";import{Gb as A,O as Fe,Pa as s,Qa as f,U as ee,V as re,Z as D,a as T,da as I,ea as ne,eb as h,gb as c,gc as z,ic as oe,kb as e,lb as o,ma as ye,mb as g,n as Pe,na as S,oa as P,pb as U,rb as C,sb as E,tb as fe,xb as a,yb as he}from"./chunk-2R5RJSOK.js";import"./chunk-WH4R2YDQ.js";import"./chunk-YT5AF7SN.js";import{a as j,f as ue,h as L}from"./chunk-SIAVTO45.js";var Ve=(()=>{let n=class n{constructor(t,i,l){this.afAuth=t,this.afs=i,this.unUsuario=l,this.suscriptionList=new T,this.listUsuario=[],this.listPerfil=[],this.user$=this.afAuth.authState.pipe(Fe(p=>p?this.afs.doc(`users/${p.uid}`).valueChanges():Pe(null)))}enviandoVerificacionEmail(){return L(this,null,function*(){return(yield this.afAuth.currentUser).sendEmailVerification()})}resetPassword(t){return L(this,null,function*(){try{return this.afAuth.sendPasswordResetEmail(t)}catch(i){console.log(i)}})}sendVerificationEmail(){return L(this,null,function*(){return(yield this.afAuth.currentUser).sendEmailVerification()})}login(t,i){return L(this,null,function*(){try{let{user:l}=yield this.afAuth.signInWithEmailAndPassword(t,i);return this.updateUserData(l),this.logLogin(l.email),l}catch(l){return console.log(l),null}})}login2(t,i){return new Promise((l,p)=>{this.afAuth.signInWithEmailAndPassword(t,i).then(b=>{let v=new Date;this.afs.collection("ingresos").add({email:t,fechaacceso:v.getDate()+"-"+(v.getMonth()+1)+"-"+v.getFullYear(),dato:"Ingreso al sistema"}),l(b)}).catch(b=>{p(b)})})}register(t,i){return L(this,null,function*(){try{let{user:l}=yield this.afAuth.createUserWithEmailAndPassword(t,i);return yield this.sendVerificationEmail(),l}catch(l){return console.log(l),null}})}logout(){return L(this,null,function*(){try{yield this.afAuth.signOut()}catch(t){console.log(t)}})}updateUserData(t){let i=this.afs.doc(`users/${t.uid}`),l={uid:t.uid,email:t.email};return i.set(l,{merge:!0})}perfilBuscado(){let t=JSON.parse(localStorage.getItem("userPerfil"));return this.perfil=t,console.log("Imprimo Perfil Leido:",this.perfil),this.perfil}obtener_localstorage(){let t=JSON.parse(localStorage.getItem("user"));this.email=t.email,console.log("Service Paciente correo: ",this.email)}getPerfil(){return this.obtener_localstorage(),console.log("correo :",this.email),this.unUsuario.getPerfilUsuario(this.email).subscribe(t=>{t.forEach(l=>{this.listPerfil.push(j({id:l.payload.doc.id},l.payload.doc.data()))});let i={perfil:this.listPerfil[0].perfil,apellido:this.listPerfil[0].apellido,nombre:this.listPerfil[0].nombre,dni:this.listPerfil[0].dni,email:this.listPerfil[0].email,aprobadoPorAdmin:this.listPerfil[0].aprobadoPorAdmin,especialidad:this.listPerfil[0].especialidad,otraEspecialidad:this.listPerfil[0].otraEspecialidad,fotoPerfilUno:this.listPerfil[0].fotoPerfilUno,fotoPerfilDos:this.listPerfil[0].fotoPerfilDos};this.gralPerfil=i.perfil}),this.gralPerfil}isActualSessionAdministrador(){let t=this.getPerfil();return console.log("Imprimo Perfil auth esperado:",t),t==="Administrador"?(console.log("Paso 7 auth Servicio auth - perfil  ",this.perfil),!0):(console.log("Paso 8 auth Servicio auth -  NO",this.perfil),!1)}logLogin(t){this.afs.collection("ingresos").add({email:t,timestamp:new Date})}};n.\u0275fac=function(i){return new(i||n)(D(k),D(G),D(N))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function Ke(r,n){r&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function Qe(r,n){r&1&&(e(0,"span",29),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es requerido"),o()())}function Xe(r,n){r&1&&(e(0,"span",29),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function Ze(r,n){r&1&&(e(0,"span",29),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerido"),o()())}function He(r,n){if(r&1){let d=U();e(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div")(6,"h2",9),a(7,"LOGIN"),o()()(),e(8,"form",10),C("ngSubmit",function(){S(d);let i=E();return P(i.loginSiguiente())}),e(9,"div",11),g(10,"input",12)(11,"br"),h(12,Qe,4,0,"span",13)(13,Xe,4,0,"span",13),o(),e(14,"div",11),g(15,"input",14)(16,"br"),h(17,Ze,4,0,"span",13),o(),e(18,"div")(19,"button",15),a(20,"Aceptar"),o(),e(21,"button",16),C("click",function(){S(d);let i=E();return P(i.registrarse())}),a(22,"Registrarse"),o()(),g(23,"br"),o(),g(24,"br"),o()()(),e(25,"div",17)(26,"h3",9),a(27,"ACCESOS"),o(),e(28,"table",18)(29,"tbody")(30,"tr")(31,"th",19)(32,"font",20),a(33,"Pacientes"),o()(),e(34,"th",21)(35,"font",20),a(36,"Especialistas"),o()(),e(37,"th",22)(38,"font",20),a(39,"Administrador"),o()()(),e(40,"tr")(41,"td")(42,"img",23),C("click",function(){S(d);let i=E();return P(i.onPaciente1())}),o()(),e(43,"td")(44,"img",24),C("click",function(){S(d);let i=E();return P(i.onPaciente2())}),o()(),e(45,"td")(46,"img",25),C("click",function(){S(d);let i=E();return P(i.onPaciente3())}),o()(),e(47,"td")(48,"img",26),C("click",function(){S(d);let i=E();return P(i.onEspecialista1())}),o()(),e(49,"td")(50,"img",27),C("click",function(){S(d);let i=E();return P(i.onEspecialista2())}),o()(),e(51,"td")(52,"img",28),C("click",function(){S(d);let i=E();return P(i.onAdmin1())}),o()()()()()()()}if(r&2){let d,t,i,l=E();s(8),c("formGroup",l.loginForm),s(2),c("value",l.muestroCorreo),s(2),c("ngIf",((d=l.loginForm.get("usuarioCorreo"))==null?null:d.hasError("required"))&&((d=l.loginForm.get("usuarioCorreo"))==null?null:d.touched)),s(),c("ngIf",((t=l.loginForm.get("usuarioCorreo"))==null?null:t.hasError("email"))&&((t=l.loginForm.get("usuarioCorreo"))==null?null:t.touched)),s(2),c("value",l.muestroClave),s(2),c("ngIf",((i=l.loginForm.get("usuarioClave"))==null?null:i.hasError("required"))&&((i=l.loginForm.get("usuarioClave"))==null?null:i.touched)),s(2),c("disabled",l.loginForm.invalid)}}var de=(()=>{let n=class n{constructor(t,i,l,p,b,v,F,y,w){this.rutas=t,this.fb=i,this.afAuth=l,this._errorService=p,this.toastr=b,this.unUsuario=v,this.af=F,this.authService=y,this.logService=w,this.loading=!1,this.suscriptionList=new T,this.suscription=new T,this.listUsuario=[],this.listPerfil=[],this.loginForm=this.fb.group({usuarioCorreo:["",[m.required,m.email]],usuarioClave:["",m.required]})}ngOnInit(){}login(t){this.authService.login(t,this.email).then(()=>{this.logService.logUserAccess(t)})}administradorLogin(){this.loginForm.controls.usuarioCorreo.setValue("admin@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}loginSiguiente(){console.log("Entramos en loginSiguiente ",this.loginForm);let t=this.loginForm.get("usuarioCorreo")?.value,i=this.loginForm.get("usuarioClave")?.value,l=new Date,p=l.toLocaleDateString(),b=l.toLocaleTimeString();this.loading=!0,setTimeout(()=>{console.log("Tiempo")},5e5),this.afAuth.signInWithEmailAndPassword(t,i).then(v=>{console.log("Respuesta ",v);let F={email:t,fecha:p,hora:b};this.af.collection("ingresos").add(F).then(()=>{console.log("Ingreso guardado en Firestore")}).catch(y=>{console.error("Error al guardar ingreso en Firestore: ",y)}),v.user?.emailVerified===!1?(this.loading=!1,this.rutas.navigate(["/auth/verificarCorreo"])):(console.log("Grabando Local Storage"),this.loading=!1,this.perfil="",this.setLocalStorage(v.user),this.setLocalStoragePerfil(),this.rutas.navigate(["/bienvenido"]))},v=>{this.loading=!1,this.toastr.error(this._errorService.error(v.code),"Error"),this.loginForm.reset()})}logLogin(t){this.af.collection("ingresos").add({email:t,timestamp:new Date})}setLocalStorage(t){let i={uid:t.uid,email:t.email};localStorage.setItem("user",JSON.stringify(i)),this.email=t.email}getPerfil(t){console.log("correo :",t),this.unUsuario.getPerfilUsuario(t).subscribe(i=>{i.forEach(p=>{this.listPerfil.push(j({id:p.payload.doc.id},p.payload.doc.data())),console.log(p.payload.doc.id),console.log(p.payload.doc.data())}),console.log("Lista Perfil ",this.listPerfil),console.log("Lista Perfil - Tipo ",this.listPerfil[0].perfil),console.log("Lista Perfil -  Autorizado ",this.listPerfil[0].aprobadoPorAdmin),localStorage.setItem("userPerfil",JSON.stringify(this.listPerfil[0].perfil)),localStorage.setItem("autorizadoPerfil",JSON.stringify(this.listPerfil[0].aprobadoPorAdmin));let l={perfil:this.listPerfil[0].perfil,apellido:this.listPerfil[0].apellido,nombre:this.listPerfil[0].nombre,dni:this.listPerfil[0].dni,email:this.listPerfil[0].email,aprobadoPorAdmin:this.listPerfil[0].aprobadoPorAdmin,especialidad:this.listPerfil[0].especialidad,otraEspecialidad:this.listPerfil[0].otraEspecialidad,fotoPerfilUno:this.listPerfil[0].fotoPerfilUno,fotoPerfilDos:this.listPerfil[0].fotoPerfilDos};localStorage.setItem("perfil",JSON.stringify(l))})}setLocalStoragePerfil(){console.log("Paso 1 Leyendo local storag");let t=JSON.parse(localStorage.getItem("user"));this.email=t.email,console.log("Paso 2 Imprimo email ",this.email),console.log("Paso 3 Grabando Perfil"),this.getPerfil(this.email)}onAdmin1(){this.loginForm.controls.usuarioCorreo.setValue("fernando.utn@hotmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onEspecialista1(){this.loginForm.controls.usuarioCorreo.setValue("moni.lili.ortegoza@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onEspecialista2(){this.loginForm.controls.usuarioCorreo.setValue("analistadetesting@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente1(){this.loginForm.controls.usuarioCorreo.setValue("santosquispe1950@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente2(){this.loginForm.controls.usuarioCorreo.setValue("lourdesriveramartinez1954@gmail.com"),this.loginForm.controls.usuarioClave.setValue("123456")}onPaciente3(){this.loginForm.controls.usuarioCorreo.setValue("rifyesilte@gufum.com"),this.loginForm.controls.usuarioClave.setValue("123456")}registrarse(){this.rutas.navigate(["auth/MenuRegistrar"])}ngOnChanges(t){}};n.\u0275fac=function(i){return new(i||n)(f(R),f(X),f(k),f(H),f(Y),f(N),f(G),f(Ve),f(ke))},n.\u0275cmp=I({type:n,selectors:[["app-login"]],standalone:!0,features:[ye,A],decls:4,vars:2,consts:[[1,"conteiner","mt-3"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"row"],[1,"container-table-login"],[1,"card"],[1,"card-body"],[1,"container-form"],[1,"text-center","tituloPropio"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["type","text","formControlName","usuarioCorreo","placeholder","Correo electr\xF3nico",1,"from-control","form-control-lg",3,"value"],["class","text-danger",4,"ngIf"],["type","password","formControlName","usuarioClave","placeholder","Contrase\xF1a",1,"from-control","form-control-lg",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["type","button","routerLink","/auth/MenuRegistrar",1,"btn","btn-primary","btn-lg","float-right",3,"click"],[1,"container-table","table-responsive"],[1,"mx-auto"],["colspan","3",1,"tituloPropio"],["color","#ffffff"],["colspan","2",1,"tituloPropio"],[1,"tituloPropio"],["src","./../../../assets/pacientes/paciente01.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/pacientes/paciente03.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/pacientes/paciente05.jpg","alt","img-usuario","alt","paciente",3,"click"],["src","./../../../assets/especialistas/especialista01.jpg","alt","img-usuario","alt","especialista",3,"click"],["src","./../../../assets/especialistas/especialista02.jpg","alt","img-usuario","alt","especialista",3,"click"],["src","./../../../assets/admin/admin1.jpeg","alt","img-usuario","alt","admin",3,"click"],[1,"text-danger"]],template:function(i,l){i&1&&(e(0,"section")(1,"div",0),h(2,Ke,2,0,"div",1)(3,He,53,7,"div",2),o()()),i&2&&(s(2),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[Z,V,$,B,J,W,K,Q,z],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:600%}body[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-top:10px;padding-bottom:40px}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica-CAUED5U2.jpg");background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;height:96vh;max-width:3000px}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive}.contenedorLogin[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.text-danger[_ngcontent-%COMP%]{margin-left:10px}.container-form[_ngcontent-%COMP%]{border-radius:20px;margin:0;padding:0}img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px;border-radius:50px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#696969;font-weight:400;margin-top:10px}.container-table[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{text-align:center;color:#f5e8e8}.container-table-login[_ngcontent-%COMP%]{padding:10px;margin:0 auto}.TituloTablaColor[_ngcontent-%COMP%]{color:#dc194a}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:96vh}'],data:{animation:[Ie("enterState",[Re("void",ve({transform:"translateX(100%)",opacity:0})),Te(":enter",[Ae(500,ve({transform:"translateX(0)",opacity:1}))])])]}});let r=n;return r})();var qe=(()=>{let n=class n{constructor(t){this.rutas=t}ngOnInit(){}paciente(){console.log("Registrar Paciente"),this.rutas.navigate(["auth/registrarPaciente"])}especialista(){console.log("Registrar Especialista"),this.rutas.navigate(["auth/registrar"])}admin(){console.log("Registrar Admin"),this.rutas.navigate(["auth/registrarAdmin"])}};n.\u0275fac=function(i){return new(i||n)(f(R))},n.\u0275cmp=I({type:n,selectors:[["app-menu-registrar"]],standalone:!0,features:[A],decls:13,vars:0,consts:[[1,"container"],["id","menu",1,"menu","ld","ld-float-ttb-in",3,"click"],["src","../../../assets/registrar/pacienteRegistro1.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"],[1,"media-body"],[1,"media-heading"],["src","../../../assets/registrar/especialista1.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"]],template:function(i,l){i&1&&(g(0,"app-menu-inicio"),e(1,"section")(2,"div",0)(3,"div",1),C("click",function(){return l.paciente()}),g(4,"img",2),e(5,"div",3)(6,"h4",4),a(7,"Paciente"),o()()(),e(8,"div",1),C("click",function(){return l.especialista()}),g(9,"img",5),e(10,"div",3)(11,"h4",4),a(12,"Especialista"),o()()()()())},dependencies:[we],styles:[".container[_ngcontent-%COMP%]{width:100%;height:auto;background-color:transparent;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-content:center}.imagenDeMenu[_ngcontent-%COMP%]{height:55%;margin-bottom:2rem}.media-heading[_ngcontent-%COMP%]{color:#4883dd}.menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:space-between;background-color:#a6e2ec;width:45%;height:18rem;border-radius:1rem;margin-top:1rem;align-content:center;text-align:center;cursor:pointer;word-wrap:break-word;padding:1rem;-webkit-box-shadow:7px 7px 20px -8px rgba(0,3,5,1);-moz-box-shadow:7px 7px 20px -8px rgba(0,3,5,1);box-shadow:7px 7px 20px -8px #000305}#menu[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 10px #103f86}@media screen and (max-width: 1200px){.menu[_ngcontent-%COMP%]{height:auto}.encabezado[_ngcontent-%COMP%]{margin-bottom:1rem}}@media screen and (max-width: 720px){.container[_ngcontent-%COMP%]{height:auto;margin-left:3rem}.menu[_ngcontent-%COMP%]{width:80%;height:auto}}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]{background:#1e2b28;padding:60px 0;margin-top:8rem;height:10rem}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-align:center;width:100px;display:block;padding:15px,0;border-radius:10%;font-size:50px;margin:0 20px}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]:hover{background:#0078d7}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover{background:#4078c0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover{background:#0077b5}@media screen and (max-width: 470px){.menu[_ngcontent-%COMP%]{height:auto}.imagenDeMenu[_ngcontent-%COMP%]{width:auto;height:auto;margin-bottom:2rem}}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:93vh}body[_ngcontent-%COMP%]{margin:0;padding:0}.footer[_ngcontent-%COMP%]{text-align:center;padding:0;background-color:#fcfcfc;position:relative;bottom:0;width:100%}.btnleft[_ngcontent-%COMP%]{color:#fff;text-align:center;background-color:#000;display:inline-block;margin:0}.contenedor-left[_ngcontent-%COMP%]{display:flex}"]});let r=n;return r})();var De=ue(xe());var je=(()=>{let n=class n{constructor(t){this._firestore=t}crearObraSocial(t){return console.log("Llegamos a grabar Obra Social"),this._firestore.collection("obrasociales").add(t)}getListadoObraSocial(){return this._firestore.collection("obrasociales").stateChanges()}eliminarObraSocial(t){return console.log("Id servicio ",t),this._firestore.collection("obrasociales").doc(t).delete()}modificarObraSocial(t,i){return this._firestore.collection("obrasociales").doc(t).update(i)}};n.\u0275fac=function(i){return new(i||n)(D(G))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function tt(r,n){r&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function it(r,n){r&1&&(e(0,"span",26),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function rt(r,n){r&1&&(e(0,"span",26),a(1," Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function nt(r,n){r&1&&(e(0,"span",26),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function ot(r,n){r&1&&(e(0,"span",26),a(1," Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function at(r,n){r&1&&(e(0,"span",26),a(1," La Edad "),e(2,"strong"),a(3,"es requerido"),o()())}function lt(r,n){r&1&&(e(0,"span",26),a(1," Edad como minimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function st(r,n){r&1&&(e(0,"span",26),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function ct(r,n){r&1&&(e(0,"span",26),a(1," El DNI minimo "),e(2,"strong"),a(3,"7 digitos"),o(),a(4," maximo "),e(5,"strong"),a(6,"8 digitos"),o()())}function mt(r,n){r&1&&(e(0,"span",26),a(1," La obra social "),e(2,"strong"),a(3,"es requerido"),o()())}function dt(r,n){r&1&&(e(0,"span",26),a(1," El Correo "),e(2,"strong"),a(3,"es requerido"),o()())}function pt(r,n){r&1&&(e(0,"span",26),a(1," Correo "),e(2,"strong"),a(3,"invalido"),o()())}function gt(r,n){r&1&&(e(0,"span",26),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function ut(r,n){r&1&&(e(0,"span",26),a(1," La contrase\xF1a como minimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function ft(r,n){r&1&&(e(0,"span",26),a(1," Contrase\xF1a "),e(2,"strong"),a(3,"distintas"),o()())}function ht(r,n){if(r&1){let d=U();e(0,"div",4)(1,"h2",5)(2,"strong"),a(3,"REGISTRO DE PACIENTE"),o()(),e(4,"form",6),C("ngSubmit",function(){S(d);let i=E();return P(i.registrar())}),e(5,"div",7)(6,"div",8),g(7,"input",9),h(8,it,4,0,"span",10)(9,rt,4,0,"span",10),o(),e(10,"div",8),g(11,"input",11),h(12,nt,4,0,"span",10)(13,ot,4,0,"span",10),o(),e(14,"div",8),g(15,"input",12),h(16,at,4,0,"span",10)(17,lt,4,0,"span",10),o(),e(18,"div",8),g(19,"input",13),h(20,st,4,0,"span",10)(21,ct,7,0,"span",10),o(),e(22,"div",8),g(23,"input",14),h(24,mt,4,0,"span",10),o(),e(25,"div",8),g(26,"input",15),h(27,dt,4,0,"span",10)(28,pt,4,0,"span",10),o(),e(29,"div",8),g(30,"input",16),h(31,gt,4,0,"span",10)(32,ut,4,0,"span",10),o(),e(33,"div",8),g(34,"input",17),h(35,ft,4,0,"span",10),o(),e(36,"div",18)(37,"span",19),a(38,"PERFIL"),o(),e(39,"input",20),C("change",function(i){S(d);let l=E();return P(l.uploadImage(i))}),o()(),e(40,"div",18)(41,"span",19),a(42,"PERFIL"),o(),e(43,"input",21),C("change",function(i){S(d);let l=E();return P(l.uploadImage2(i))}),o()(),e(44,"div",22)(45,"re-captcha",23),C("resolved",function(i){S(d);let l=E();return P(l.onCaptchaResolved(i))}),o()()(),e(46,"button",24),a(47,"Registrar"),o(),e(48,"button",25),C("click",function(){S(d);let i=E();return P(i.volver())}),a(49,"Volver"),o()()()}if(r&2){let d,t,i,l,p,b,v,F,y,w,O,M,u,_=E();s(4),c("formGroup",_.registrarForm),s(4),c("ngIf",((d=_.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=_.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((t=_.registrarForm.get("nombre"))==null?null:t.hasError("minlength"))&&((t=_.registrarForm.get("nombre"))==null?null:t.touched)),s(3),c("ngIf",((i=_.registrarForm.get("apellido"))==null?null:i.hasError("required"))&&((i=_.registrarForm.get("apellido"))==null?null:i.touched)),s(),c("ngIf",((l=_.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=_.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((p=_.registrarForm.get("edad"))==null?null:p.hasError("required"))&&((p=_.registrarForm.get("edad"))==null?null:p.touched)),s(),c("ngIf",((b=_.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=_.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((v=_.registrarForm.get("dni"))==null?null:v.hasError("required"))&&((v=_.registrarForm.get("dni"))==null?null:v.touched)),s(),c("ngIf",((F=_.registrarForm.get("dni"))==null?null:F.hasError("minlength"))&&((F=_.registrarForm.get("dni"))==null?null:F.touched)),s(3),c("ngIf",((y=_.registrarForm.get("obrasocial"))==null?null:y.hasError("required"))&&((y=_.registrarForm.get("obrasocial"))==null?null:y.touched)),s(3),c("ngIf",((w=_.registrarForm.get("correo"))==null?null:w.hasError("required"))&&((w=_.registrarForm.get("correo"))==null?null:w.touched)),s(),c("ngIf",((O=_.registrarForm.get("correo"))==null?null:O.hasError("email"))&&((O=_.registrarForm.get("correo"))==null?null:O.touched)),s(3),c("ngIf",((M=_.registrarForm.get("password"))==null?null:M.hasError("required"))&&((M=_.registrarForm.get("password"))==null?null:M.touched)),s(),c("ngIf",((u=_.registrarForm.get("password"))==null?null:u.hasError("minlength"))&&((u=_.registrarForm.get("password"))==null?null:u.touched)),s(3),c("ngIf",_.registrarForm.hasError("notSame")),s(10),c("siteKey","6LfE5IAqAAAAAApA0Bmf1uXeMftFcceZ8whgPsVz")}}var pe=(()=>{let n=class n{constructor(t,i,l,p,b,v,F){this.fb=t,this.afAuth=i,this.router=l,this.toastr=p,this._errorService=b,this._obrasocialService=v,this._usuarioService=F,this.loading=!1,this.suscriptionList=new T,this.listObrasocial=[],this.gabrarSegundaParte=!1,this.userCaptchaAnswer=null,this.captchaPassed=null,this.correctAnswer=0,this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4),this.validarLetra]],apellido:["",[m.required,m.minLength(4),this.validarLetra]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.min(7),m.max(8)]],obrasocial:["",[m.required]],fotoPerfil:["no la guardo aun",[m.required]],fotoPerfil2:["no la guardo aun",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""],captcha:["",m.required]},{validator:this.ckeckPassword})}ngOnInit(){this.getObrasocial()}onCaptchaResolved(t){this.registrarForm.patchValue({captcha:t})}registrar(){return L(this,null,function*(){if(!this.registrarForm.get("captcha")?.value){this.toastr.error("Debe completar el reCAPTCHA antes de continuar","Error");return}console.log("grabrarSegundaParte0 "),this.registrarPaciente(),console.log("grabrarSegundaParte3 "),this.router.navigate(["auth/login"])})}registrarPaciente(){return L(this,null,function*(){let t={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:this.registrarForm.get("obrasocial")?.value,especialidad:null,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Paciente",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:this.obtengoFile2,aprobadoPorAdmin:"NO",baja:"NO",altura:"",peso:"",temperatura:"",presion:"",clave1:"",valor1:"",clave2:"",valor2:"",clave3:"",valor3:""};console.log("estamos en registrar usuario paciente:",t.email);try{this.loading=!0;let i=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;yield this.afAuth.createUserWithEmailAndPassword(i,l),yield(yield this.afAuth.currentUser).sendEmailVerification(),console.log(this.afAuth),this.afAuth&&(this._usuarioService.crearUsuario(t),De.default.fire({position:"top-end",icon:"success",title:"El Paciente fue registrado con \xE9xito!",showConfirmButton:!1,timer:5e3}),this.loading=!1)}catch(i){this.toastr.error(this._errorService.error(i.code),"Error - Paciente"),setTimeout(()=>{this.toastr.error(this._errorService.error(i.code),"Error - Paciente")},6e3)}})}getObrasocial(){this.loading=!0,this.suscriptionList==this._obrasocialService.getListadoObraSocial().subscribe(t=>{this.listObrasocial=[],t.forEach(i=>{this.listObrasocial.push(j({id:i.payload.doc.id},i.payload.doc.data())),this.loading=!1}),console.log("Lista Obrasocial",this.listObrasocial)})}registrarObraSocial(){console.log("Probando Registrar Obrasocial");let t={nombre:"OSDE"};this._obrasocialService.crearObraSocial(t).then(i=>{this.toastr.success("La Obra Social fue registrada con \xE9xito!","Obra Social registrada!")}).catch(i=>{this.toastr.error(this._errorService.error(i.code),"Error Obra Social")})}uploadImage(t){let i=t.target.files[0];this.obtengoFile="assets/paciente/"+i.name}uploadImage2(t){let i=t.target.files[0];this.obtengoFile2="assets/paciente/"+i.name}ckeckPassword(t){let i=t.controls.password?.value,l=t.controls.repetirPassword?.value;return i===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}validarLetra(t){let i=t.value;return/^[a-zA-Z]+$/.test(i)?null:{soloLetras:!0}}volver(){this.router.navigateByUrl("/auth/login")}executeRecaptcha(){this.recaptchaService.execute("").subscribe(t=>{console.log(t)})}executeRecaptchaVisible(t){console.log(t)}};n.\u0275fac=function(i){return new(i||n)(f(X),f(k),f(R),f(Y),f(H),f(je),f(N))},n.\u0275cmp=I({type:n,selectors:[["app-login-registrar-usuario"]],standalone:!0,features:[A],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio",2,"color","white"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["list","obrasocial","formControlName","obrasocial","placeholder","Escriba una Obra Social...",1,"form-control","form-control-lg"],["type","email","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["type","file","formControlName","fotoPerfil2",1,"form-control","form-control-lg",3,"change"],[1,"form-group"],["formControlName","captcha","required","",3,"resolved","siteKey"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg",3,"click"],[1,"text-danger"]],template:function(i,l){i&1&&(e(0,"div",0),h(1,tt,2,0,"div",1)(2,ht,50,16,"div",2),o()),i&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[z,V,$,B,te,J,W,ae,K,Q,Z,oe,se,le],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive;margin:100px}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let r=n;return r})();var ze=ue(xe());var Ue=(()=>{let n=class n{constructor(t){this._firestore=t}crearEspecialidad(t){return this._firestore.collection("especialidades").add(t)}getListadoEspecialidad(){return this._firestore.collection("especialidades").stateChanges()}eliminarEspecialidad(t){return console.log("Id servicio ",t),this._firestore.collection("especialidades").doc(t).delete()}modificarEspecialidad(t,i){return this._firestore.collection("especialidades").doc(t).update(i)}};n.\u0275fac=function(i){return new(i||n)(D(G))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function vt(r,n){r&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function xt(r,n){r&1&&(e(0,"span",29),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function bt(r,n){r&1&&(e(0,"span",29),a(1," El Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function Ct(r,n){r&1&&(e(0,"span",29),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function Et(r,n){r&1&&(e(0,"span",29),a(1," El Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function St(r,n){r&1&&(e(0,"span",29),a(1," La Edad "),e(2,"strong"),a(3,"es requerida"),o()())}function Pt(r,n){r&1&&(e(0,"span",29),a(1," La Edad como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function Ft(r,n){r&1&&(e(0,"span",29),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function yt(r,n){r&1&&(e(0,"span",29),a(1," El DNI como m\xEDnimo "),e(2,"strong"),a(3,"7 d\xEDgitos"),o(),a(4," m\xE1ximo "),e(5,"strong"),a(6,"8 d\xEDgitos"),o()())}function wt(r,n){if(r&1&&(e(0,"option",30),a(1),o()),r&2){let d=n.$implicit;fe("value",d.nombre),s(),he(d.nombre)}}function Ot(r,n){r&1&&(e(0,"span",29),a(1," La Especialidad "),e(2,"strong"),a(3,"es requerida"),o()())}function Mt(r,n){if(r&1&&(e(0,"option",30),a(1),o()),r&2){let d=n.$implicit;fe("value",d.nombre),s(),he(d.nombre)}}function Lt(r,n){r&1&&(e(0,"span",29),a(1," La Especialidad "),e(2,"strong"),a(3,"es requerida"),o()())}function It(r,n){r&1&&(e(0,"span",29),a(1," El correo electr\xF3nico "),e(2,"strong"),a(3,"es requerido"),o()())}function At(r,n){r&1&&(e(0,"span",29),a(1," El correo electr\xF3nico "),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function Rt(r,n){r&1&&(e(0,"span",29),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function Tt(r,n){r&1&&(e(0,"span",29),a(1," La contrase\xF1a como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function kt(r,n){r&1&&(e(0,"span",29),a(1," Las Contrase\xF1as "),e(2,"strong"),a(3,"son distintas"),o()())}function Nt(r,n){if(r&1){let d=U();e(0,"div",4)(1,"h2",5)(2,"strong"),a(3,"REGISTRO DE ESPECIALISTA"),o()(),e(4,"form",6),C("ngSubmit",function(){S(d);let i=E();return P(i.registrar())}),e(5,"div",7)(6,"div",8),g(7,"input",9),h(8,xt,4,0,"span",10)(9,bt,4,0,"span",10),o(),e(10,"div",8),g(11,"input",11),h(12,Ct,4,0,"span",10)(13,Et,4,0,"span",10),o(),e(14,"div",8),g(15,"input",12),h(16,St,4,0,"span",10)(17,Pt,4,0,"span",10),o(),e(18,"div",8),g(19,"input",13),h(20,Ft,4,0,"span",10)(21,yt,7,0,"span",10),o(),e(22,"div",8),g(23,"input",14),e(24,"datalist",15),h(25,wt,2,2,"option",16),o(),h(26,Ot,4,0,"span",10),o(),e(27,"div",8),g(28,"input",17),e(29,"datalist",18),h(30,Mt,2,2,"option",16),o(),h(31,Lt,4,0,"span",10),o(),e(32,"div",8),g(33,"input",19),h(34,It,4,0,"span",10)(35,At,4,0,"span",10),o(),e(36,"div",8),g(37,"input",20),h(38,Rt,4,0,"span",10)(39,Tt,4,0,"span",10),o(),e(40,"div",8),g(41,"input",21),h(42,kt,4,0,"span",10),o(),e(43,"div",22)(44,"span",23),a(45,"PERFIL"),o(),e(46,"input",24),C("change",function(i){S(d);let l=E();return P(l.uploadImage(i))}),o()(),e(47,"div",25)(48,"re-captcha",26),C("resolved",function(i){S(d);let l=E();return P(l.onCaptchaResolved(i))}),o()()(),e(49,"button",27),a(50,"Registrar"),o(),e(51,"button",28),C("click",function(){S(d);let i=E();return P(i.volver())}),a(52,"Volver"),o()()()}if(r&2){let d,t,i,l,p,b,v,F,y,w,O,M,u,_,x=E();s(4),c("formGroup",x.registrarForm),s(4),c("ngIf",((d=x.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=x.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((t=x.registrarForm.get("nombre"))==null?null:t.hasError("minlength"))&&((t=x.registrarForm.get("nombre"))==null?null:t.touched)),s(3),c("ngIf",((i=x.registrarForm.get("apellido"))==null?null:i.hasError("required"))&&((i=x.registrarForm.get("apellido"))==null?null:i.touched)),s(),c("ngIf",((l=x.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=x.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((p=x.registrarForm.get("edad"))==null?null:p.hasError("required"))&&((p=x.registrarForm.get("edad"))==null?null:p.touched)),s(),c("ngIf",((b=x.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=x.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((v=x.registrarForm.get("dni"))==null?null:v.hasError("required"))&&((v=x.registrarForm.get("dni"))==null?null:v.touched)),s(),c("ngIf",((F=x.registrarForm.get("dni"))==null?null:F.hasError("minlength"))&&((F=x.registrarForm.get("dni"))==null?null:F.touched)),s(4),c("ngForOf",x.listEspecialidad),s(),c("ngIf",((y=x.registrarForm.get("especialidad"))==null?null:y.hasError("required"))&&((y=x.registrarForm.get("especialidad"))==null?null:y.touched)),s(4),c("ngForOf",x.listEspecialidad),s(),c("ngIf",((w=x.registrarForm.get("especialidad"))==null?null:w.hasError("required"))&&((w=x.registrarForm.get("especialidad"))==null?null:w.touched)),s(3),c("ngIf",((O=x.registrarForm.get("correo"))==null?null:O.hasError("required"))&&((O=x.registrarForm.get("correo"))==null?null:O.touched)),s(),c("ngIf",((M=x.registrarForm.get("correo"))==null?null:M.hasError("email"))&&((M=x.registrarForm.get("correo"))==null?null:M.touched)),s(3),c("ngIf",((u=x.registrarForm.get("password"))==null?null:u.hasError("required"))&&((u=x.registrarForm.get("password"))==null?null:u.touched)),s(),c("ngIf",((_=x.registrarForm.get("password"))==null?null:_.hasError("minlength"))&&((_=x.registrarForm.get("password"))==null?null:_.touched)),s(3),c("ngIf",x.registrarForm.hasError("notSame")),s(6),c("siteKey","6LfE5IAqAAAAAApA0Bmf1uXeMftFcceZ8whgPsVz")}}var ge=(()=>{let n=class n{constructor(t,i,l,p,b,v,F){this.fb=t,this.afAuth=i,this.router=l,this.toastr=p,this._errorService=b,this._especialidadService=v,this._usuarioService=F,this.loading=!1,this.suscriptionList=new T,this.listEspecialidad=[],this.userCaptchaAnswer=null,this.captchaPassed=null,this.correctAnswer=0,this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4),this.validarLetra]],apellido:["",[m.required,m.minLength(4),this.validarLetra]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.minLength(7),m.maxLength(8)]],especialidad:["",[m.required,this.validarLetra]],otraEspecialidad:[""],fotoPerfil:["",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""],captcha:["",m.required]},{validator:this.ckeckPassword})}ngOnInit(){this.getEspecialidad()}onCaptchaResolved(t){this.registrarForm.patchValue({captcha:t})}registrar(){return L(this,null,function*(){if(!this.registrarForm.get("captcha")?.value){this.toastr.error("Debe completar el reCAPTCHA antes de continuar","Error");return}console.log("grabrarSegundaParte0 "),this.registrarEspecialista(),console.log("grabrarSegundaParte3 "),this.router.navigate(["auth/login"])})}registrarEspecialista(){return L(this,null,function*(){let t={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:null,especialidad:this.registrarForm.get("especialidad")?.value,otraEspecialidad:this.registrarForm.get("otraEspecialidad")?.value,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Especialista",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:null,aprobadoPorAdmin:"NO",baja:"NO",altura:"",peso:"",temperatura:"",presion:"",clave1:"",valor1:"",clave2:"",valor2:"",clave3:"",valor3:""};try{this.loading=!0;let i=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;this.afAuth.createUserWithEmailAndPassword(i,l).then(p=>{p.user?.sendEmailVerification(),this.afAuth&&(this._usuarioService.crearUsuario(t),ze.default.fire({position:"top-end",icon:"success",title:"Verifique su correo electr\xF3nico para autenticar el Alta del Usuario Especialista.",showConfirmButton:!1,timer:5e3}),this.registrarEspecialidad(),this.loading=!1)})}catch(i){setTimeout(function(){this.toastr.error(this._errorService.error(i.code),"Error - Especialista")},6e3)}})}registrarEspecialidad(){console.log("Registrar especialidad.");let t=this.registrarForm.get("especialidad")?.value;if(this.listEspecialidad.find(l=>l.nombre===t)===void 0){console.log("Valor No encontrado");let l={nombre:t,foto:"assets/especialidades/especialidades.png"};this._especialidadService.crearEspecialidad(l).then(p=>{this.toastr.success("La Especialidad fue registrada con \xE9xito!","Especialidad registrada!")}).catch(p=>{this.toastr.error(this._errorService.error(p.code),"Error")})}else console.log("Valor Existe")}getEspecialidad(){this.suscriptionList==this._especialidadService.getListadoEspecialidad().subscribe(t=>{this.listEspecialidad=[],t.forEach(i=>{this.listEspecialidad.push(j({id:i.payload.doc.id},i.payload.doc.data())),this.loading=!1})})}uploadImage(t){let i=t.target.files[0];this.obtengoFile="assets/especialidades/"+i.name}ckeckPassword(t){let i=t.controls.password?.value,l=t.controls.repetirPassword?.value;return i===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}validarLetra(t){let i=t.value;return/^[a-zA-Z]+$/.test(i)?null:{soloLetras:!0}}volver(){this.router.navigateByUrl("/auth/login")}executeRecaptcha(){this.recaptchaService.execute("").subscribe(t=>{console.log(t)})}executeRecaptchaVisible(t){console.log(t)}};n.\u0275fac=function(i){return new(i||n)(f(X),f(k),f(R),f(Y),f(H),f(Ue),f(N))},n.\u0275cmp=I({type:n,selectors:[["app-login-registrar"]],standalone:!0,features:[A],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio",2,"color","rgb(255, 255, 255)"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["list","especialidad","formControlName","especialidad","placeholder","Escriba una Especialidad...",1,"form-control","form-control-lg"],["id","especialidad"],[3,"value",4,"ngFor","ngForOf"],["list","otraEspecialidad","formControlName","otraEspecialidad","placeholder","Escriba una Especialidad...",1,"form-control","form-control-lg"],["id","otraEspecialidad"],["type","text","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],[1,"form-group"],["formControlName","captcha","required","",3,"resolved","siteKey"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg"],["routerLink","/auth/login",1,"btn","btn-secondary","btn-lg",3,"click"],[1,"text-danger"],[3,"value"]],template:function(i,l){i&1&&(e(0,"div",0),h(1,vt,2,0,"div",1)(2,Nt,53,19,"div",2),o()),i&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[z,Z,V,$,Oe,Me,B,te,J,W,ae,K,Q,se,le],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:cursive;margin:40px}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let r=n;return r})();var Ge=(()=>{let n=class n{constructor(t){this.rutas=t}ngOnInit(){}volverInicio(){console.log("Verificar correo"),this.rutas.navigate(["bienvenidoLogin"])}};n.\u0275fac=function(i){return new(i||n)(f(R))},n.\u0275cmp=I({type:n,selectors:[["app-verificar-correo"]],standalone:!0,features:[A],decls:15,vars:0,consts:[[1,"conteiner","mt-3"],[1,"card"],[1,"card-body","text-center"],[1,"card-title"],[1,"form-group"],[1,"text-center"],[1,"form-group","text-center"],["routerLink","/bienvenidoLogin",1,"btn","btn-primary",3,"click"]],template:function(i,l){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),a(4,"Gracias por registrarse"),o(),e(5,"div",4)(6,"p",5),a(7," Hemos enviado un correo electr\xF3nico de confirmaci\xF3n a "),e(8,"strong"),a(9," su correo electr\xF3nico"),o()(),e(10,"p",5),a(11," Por favor revise su correo electr\xF3nico y haga clic en el enlace para verificar su direcci\xF3n de correo electr\xF3nico. "),o()(),e(12,"div",6)(13,"button",7),C("click",function(){return l.volverInicio()}),a(14,"Inicio"),o()()()()())},styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");background-size:85% auto;background-position:center top;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;height:86vh}']});let r=n;return r})();var Vt=[{path:"login",component:de,data:{animation:"login"}},{path:"MenuRegistrar",component:qe},{path:"registrarPaciente",component:pe},{path:"registrar",component:ge},{path:"verificarCorreo",component:Ge},{path:"",redirectTo:"login",pathMatch:"full"}],Be=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=ne({type:n}),n.\u0275inj=re({imports:[_e.forChild(Vt),_e]});let r=n;return r})();var Je=ue(xe());function qt(r,n){r&1&&(e(0,"div",3),g(1,"app-spinner"),o())}function jt(r,n){r&1&&(e(0,"span",22),a(1," El Nombre "),e(2,"strong"),a(3,"es requerido"),o()())}function Dt(r,n){r&1&&(e(0,"span",22),a(1," Nombre como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function Ut(r,n){r&1&&(e(0,"span",22),a(1," El Apellido "),e(2,"strong"),a(3,"es requerido"),o()())}function zt(r,n){r&1&&(e(0,"span",22),a(1," El Apellido como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 4 caracteres"),o()())}function Gt(r,n){r&1&&(e(0,"span",22),a(1," La Edad "),e(2,"strong"),a(3,"es requerida"),o()())}function Bt(r,n){r&1&&(e(0,"span",22),a(1," La Edad como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 22 a\xF1os"),o()())}function Jt(r,n){r&1&&(e(0,"span",22),a(1," El DNI "),e(2,"strong"),a(3,"es requerido"),o()())}function Wt(r,n){r&1&&(e(0,"span",22),a(1," El DNI como minimo "),e(2,"strong"),a(3,"tiene que tener 6 d\xEDgitos"),o()())}function $t(r,n){r&1&&(e(0,"span",22),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es requerido"),o()())}function Kt(r,n){r&1&&(e(0,"span",22),a(1," El correo electr\xF3nico"),e(2,"strong"),a(3,"es inv\xE1lido"),o()())}function Qt(r,n){r&1&&(e(0,"span",22),a(1," La contrase\xF1a "),e(2,"strong"),a(3,"es requerida"),o()())}function Xt(r,n){r&1&&(e(0,"span",22),a(1," La contrase\xF1a como m\xEDnimo "),e(2,"strong"),a(3,"debe tener 6 caracteres"),o()())}function Zt(r,n){r&1&&(e(0,"span",22),a(1," Las Contrase\xF1as "),e(2,"strong"),a(3,"son distintas"),o()())}function Ht(r,n){if(r&1){let d=U();e(0,"div",4)(1,"h2",5),a(2,"REGISTRO DE UN ADMINISTRADOR"),o(),e(3,"form",6),C("ngSubmit",function(){S(d);let i=E();return P(i.registrar())}),e(4,"div",7)(5,"div",8),g(6,"input",9),h(7,jt,4,0,"span",10)(8,Dt,4,0,"span",10),o(),e(9,"div",8),g(10,"input",11),h(11,Ut,4,0,"span",10)(12,zt,4,0,"span",10),o(),e(13,"div",8),g(14,"input",12),h(15,Gt,4,0,"span",10)(16,Bt,4,0,"span",10),o(),e(17,"div",8),g(18,"input",13),h(19,Jt,4,0,"span",10)(20,Wt,4,0,"span",10),o(),e(21,"div",8),g(22,"input",14),h(23,$t,4,0,"span",10)(24,Kt,4,0,"span",10),o(),e(25,"div",8),g(26,"input",15),h(27,Qt,4,0,"span",10)(28,Xt,4,0,"span",10),o(),e(29,"div",8),g(30,"input",16),h(31,Zt,4,0,"span",10),o(),e(32,"div",17)(33,"span",18),a(34,"PERFIL"),o(),e(35,"input",19),C("change",function(i){S(d);let l=E();return P(l.uploadImage(i))}),o()()(),e(36,"button",20),a(37,"Volver"),o(),e(38,"button",21),a(39,"Aceptar"),o()()()}if(r&2){let d,t,i,l,p,b,v,F,y,w,O,M,u=E();s(3),c("formGroup",u.registrarForm),s(4),c("ngIf",((d=u.registrarForm.get("nombre"))==null?null:d.hasError("required"))&&((d=u.registrarForm.get("nombre"))==null?null:d.touched)),s(),c("ngIf",((t=u.registrarForm.get("nombre"))==null?null:t.hasError("minlength"))&&((t=u.registrarForm.get("nombre"))==null?null:t.touched)),s(3),c("ngIf",((i=u.registrarForm.get("apellido"))==null?null:i.hasError("required"))&&((i=u.registrarForm.get("apellido"))==null?null:i.touched)),s(),c("ngIf",((l=u.registrarForm.get("apellido"))==null?null:l.hasError("minlength"))&&((l=u.registrarForm.get("apellido"))==null?null:l.touched)),s(3),c("ngIf",((p=u.registrarForm.get("edad"))==null?null:p.hasError("required"))&&((p=u.registrarForm.get("edad"))==null?null:p.touched)),s(),c("ngIf",((b=u.registrarForm.get("edad"))==null?null:b.hasError("minlength"))&&((b=u.registrarForm.get("edad"))==null?null:b.touched)),s(3),c("ngIf",((v=u.registrarForm.get("dni"))==null?null:v.hasError("required"))&&((v=u.registrarForm.get("dni"))==null?null:v.touched)),s(),c("ngIf",((F=u.registrarForm.get("dni"))==null?null:F.hasError("minlength"))&&((F=u.registrarForm.get("dni"))==null?null:F.touched)),s(3),c("ngIf",((y=u.registrarForm.get("correo"))==null?null:y.hasError("required"))&&((y=u.registrarForm.get("correo"))==null?null:y.touched)),s(),c("ngIf",((w=u.registrarForm.get("correo"))==null?null:w.hasError("email"))&&((w=u.registrarForm.get("correo"))==null?null:w.touched)),s(3),c("ngIf",((O=u.registrarForm.get("password"))==null?null:O.hasError("required"))&&((O=u.registrarForm.get("password"))==null?null:O.touched)),s(),c("ngIf",((M=u.registrarForm.get("password"))==null?null:M.hasError("minlength"))&&((M=u.registrarForm.get("password"))==null?null:M.touched)),s(3),c("ngIf",u.registrarForm.hasError("notSame")),s(7),c("disabled",u.registrarForm.invalid)}}var We=(()=>{let n=class n{constructor(t,i,l,p,b,v){this.fb=t,this.afAuth=i,this.router=l,this.toastr=p,this._errorService=b,this._usuarioService=v,this.loading=!1,this.suscriptionList=new T,this.registrarForm=this.fb.group({nombre:["",[m.required,m.minLength(4)]],apellido:["",[m.required,m.minLength(4)]],edad:["",[m.required,m.minLength(2)]],dni:["",[m.required,m.minLength(6)]],fotoPerfil:["",[m.required]],correo:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],repetirPassword:[""]},{validator:this.ckeckPassword})}ngOnInit(){}registrar(){this.registrarAdministrador(),this.router.navigate(["bienvenidoLogin"])}registrarAdministrador(){let t={nombre:this.registrarForm.get("nombre")?.value,apellido:this.registrarForm.get("apellido")?.value,edad:this.registrarForm.get("edad")?.value,dni:this.registrarForm.get("dni")?.value,obraSocial:null,especialidad:null,email:this.registrarForm.get("correo")?.value,password:this.registrarForm.get("password")?.value,perfil:"Administrador",fotoPerfilUno:this.obtengoFile,fotoPerfilDos:null,aprobadoPorAdmin:null,baja:null};try{this.loading=!0;let i=this.registrarForm.get("correo")?.value,l=this.registrarForm.get("password")?.value;this.afAuth.createUserWithEmailAndPassword(i,l).then(p=>{p.user?.sendEmailVerification(),this.afAuth&&(Je.default.fire({position:"top-end",icon:"success",title:"Verifique su Correo Electr\xF3nico para autenticar el Alta del Usuario Administrador.",showConfirmButton:!1,timer:5e3}),this.loading=!1)})}catch(i){setTimeout(()=>{this.toastr.error(this._errorService.error(i.code),"Error - Administrador")},6e3)}}uploadImage(t){let i=t.target.files[0];this.obtengoFile="assets/admin/"+i.name}ckeckPassword(t){let i=t.controls.password?.value,l=t.controls.repetirPassword?.value;return i===l?null:{notSame:!0}}ngOnDestroy(){this.suscriptionList.unsubscribe()}};n.\u0275fac=function(i){return new(i||n)(f(X),f(k),f(R),f(Y),f(H),f(N))},n.\u0275cmp=I({type:n,selectors:[["app-login-registrar-admin"]],standalone:!0,features:[A],decls:3,vars:2,consts:[[1,"conteiner"],["class","d-flex justify-content-center mt-5",4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],[1,"col-md-12","mb-2"],[1,"text-center","tituloPropio"],[3,"ngSubmit","formGroup"],[1,"row","formulario"],[1,"col-md-6","mb-2"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","number","formControlName","edad","placeholder","Edad",1,"form-control","form-control-lg"],["type","number","formControlName","dni","placeholder","DNI",1,"form-control","form-control-lg"],["type","text","formControlName","correo","placeholder","Correo electr\xF3nico",1,"form-control","form-control-lg"],["type","password","formControlName","password","placeholder","Contrase\xF1a",1,"form-control","form-control-lg"],["type","password","formControlName","repetirPassword","placeholder","Repetir Contrase\xF1a",1,"form-control","form-control-lg"],[1,"col-md-6","input-group","mb-3"],[1,"input-group-text"],["type","file","formControlName","fotoPerfil",1,"form-control","form-control-lg",3,"change"],["routerLink","/bienvenido",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg","float-right",3,"disabled"],[1,"text-danger"]],template:function(i,l){i&1&&(e(0,"div",0),h(1,qt,2,0,"div",1)(2,Ht,40,15,"div",2),o()),i&2&&(s(),c("ngIf",l.loading),s(),c("ngIf",!l.loading))},dependencies:[z,Z,V,$,B,te,J,W,K,Q],styles:['.conteiner[_ngcontent-%COMP%]{background-image:url("./media/clinica03-5QTCLINU.jpg");display:flex;flex-direction:column;justify-content:center;align-items:center;height:95vh;background-size:100% auto;background-position:center top;background-repeat:no-repeat;max-width:90% auto;padding:5px}.form[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:40 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.parrafoPropio[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-family:Montserrat,sans-serif}.tituloPropio[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.text-danger[_ngcontent-%COMP%]{margin-left:10px}h2[_ngcontent-%COMP%]{color:#f5f0f0}.invalid[_ngcontent-%COMP%]{color:red}#star[_ngcontent-%COMP%]{font-size:300%!important}p.clasificacion[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:-100px}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;color:#557b1d}p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, p.clasificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%], p.clasificacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:#852828}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.6rem 1.2rem;background-color:#0e8168;margin:.3rem .6rem;border-radius:.5rem;border:1px solid #666;color:#fff;filter:drop-shadow(0px 0px 2px#666);font-weight:400}div[_ngcontent-%COMP%]   .botones_resultados[_ngcontent-%COMP%]{align-items:center;margin-top:1.5rem;display:flex;padding:1rem 2rem;text-align:center;border-radius:.5rem;border:1px solid #666;filter:drop-shadow(0px 1px 2px #666);font-size:1rem;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#7b1d1d}.colorTexto[_ngcontent-%COMP%]{color:#fff}']});let r=n;return r})();var Xi=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=ne({type:n}),n.\u0275inj=re({imports:[oe,Be,Ne,Le,V,de,ge,pe,We]});let r=n;return r})();export{Xi as AuthModule};
